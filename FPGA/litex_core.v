//--------------------------------------------------------------------------------
// Auto-generated by Migen (3f9809b) & LiteX (e3445f6c) on 2020-03-31 14:11:46
//--------------------------------------------------------------------------------
module top_usb(
	input sys_rst_1,
	input sys_clk_1,
	input clk12,
	input clk48,
	inout usb_d_p,
	inout usb_d_n,
	output usb_pullup,
	input [29:0] wb_adr,
	input [31:0] wb_dat_w,
	output [31:0] wb_dat_r,
	input [3:0] wb_sel,
	input wb_cyc,
	input wb_stb,
	output wb_ack,
	input wb_we,
	input [2:0] wb_cti,
	input [1:0] wb_bte,
	output wb_err
);

wire sys_clk;
wire sys_rst;
wire usb_12_clk;
wire usb_12_rst;
wire usb_48_clk;
wire usb_48_rst;
reg litexcore_reset_storage = 1'd0;
reg litexcore_reset_re = 1'd0;
reg [31:0] litexcore_scratch_storage = 32'd305419896;
reg litexcore_scratch_re = 1'd0;
wire [31:0] litexcore_bus_errors_status;
wire litexcore_bus_errors_we;
wire litexcore_reset;
wire litexcore_bus_error;
reg [31:0] litexcore_bus_errors = 32'd0;
reg [13:0] litexcore_adr = 14'd0;
reg litexcore_we = 1'd0;
wire [7:0] litexcore_dat_w;
wire [7:0] litexcore_dat_r;
wire [29:0] litexcore_bus_wishbone_adr;
wire [31:0] litexcore_bus_wishbone_dat_w;
wire [31:0] litexcore_bus_wishbone_dat_r;
wire [3:0] litexcore_bus_wishbone_sel;
wire litexcore_bus_wishbone_cyc;
wire litexcore_bus_wishbone_stb;
reg litexcore_bus_wishbone_ack = 1'd0;
wire litexcore_bus_wishbone_we;
wire [2:0] litexcore_bus_wishbone_cti;
wire [1:0] litexcore_bus_wishbone_bte;
reg litexcore_bus_wishbone_err = 1'd0;
wire usb_iobuf_usb_tx_en;
wire usb_iobuf_usb_p_tx;
wire usb_iobuf_usb_n_tx;
reg usb_iobuf_usb_p_rx = 1'd0;
reg usb_iobuf_usb_n_rx = 1'd0;
wire usb_iobuf_usb_p_t_o;
wire usb_iobuf_usb_p_t_oe;
wire usb_iobuf_usb_p_t_i0;
wire usb_iobuf_usb_n_t_o;
wire usb_iobuf_usb_n_t_oe;
wire usb_iobuf_usb_n_t_i0;
wire usb_iobuf_usb_pullup;
wire usb_iobuf_usb_p_t_i1;
wire usb_iobuf_usb_n_t_i1;
wire usb_usb_core_tx_i_bit_strobe;
reg [7:0] usb_usb_core_tx_i_data_payload = 8'd0;
wire usb_usb_core_tx_o_data_strobe;
reg usb_usb_core_tx_i_oe = 1'd0;
wire usb_usb_core_tx_o_usbp;
wire usb_usb_core_tx_o_usbn;
wire usb_usb_core_tx_o_oe;
wire [7:0] usb_usb_core_tx_shifter_i_data;
reg usb_usb_core_tx_shifter_o_get = 1'd0;
wire usb_usb_core_tx_shifter_o_empty;
wire usb_usb_core_tx_shifter_o_data;
reg [7:0] usb_usb_core_tx_shifter_shifter = 8'd0;
reg [7:0] usb_usb_core_tx_shifter_pos = 8'd1;
wire usb_usb_core_tx_shifter_empty;
wire usb_usb_core_tx_shifter_ce;
wire usb_usb_core_tx_shifter_reset;
wire usb_usb_core_tx_bitstuff_i_data;
wire usb_usb_core_tx_bitstuff_o_stall;
reg usb_usb_core_tx_bitstuff_o_will_stall = 1'd0;
reg usb_usb_core_tx_bitstuff_o_data = 1'd0;
reg usb_usb_core_tx_bitstuff_stuff_bit = 1'd0;
wire usb_usb_core_tx_bitstuff_reset;
wire usb_usb_core_tx_nrzi_i_valid;
wire usb_usb_core_tx_nrzi_i_oe;
wire usb_usb_core_tx_nrzi_i_data;
reg usb_usb_core_tx_nrzi_usbp = 1'd0;
reg usb_usb_core_tx_nrzi_usbn = 1'd0;
reg usb_usb_core_tx_nrzi_oe0 = 1'd0;
reg usb_usb_core_tx_nrzi_o_usbp = 1'd0;
reg usb_usb_core_tx_nrzi_o_usbn = 1'd0;
reg usb_usb_core_tx_nrzi_o_oe = 1'd0;
reg [7:0] usb_usb_core_tx_sync_pulse = 8'd0;
wire usb_usb_core_tx_fit_dat;
wire usb_usb_core_tx_fit_oe;
reg usb_usb_core_tx_da_reset_shifter = 1'd0;
reg usb_usb_core_tx_da_reset_bitstuff = 1'd0;
wire usb_usb_core_tx_stall;
wire usb_usb_core_tx_sp_reset_bitstuff;
wire usb_usb_core_tx_sp_reset_shifter;
wire usb_usb_core_tx_sp_bit;
wire usb_usb_core_tx_sp_o_data_strobe;
reg usb_usb_core_tx_bitstuff_valid_data = 1'd0;
reg [1:0] usb_usb_core_tx_state_gray = 2'd0;
wire usb_usb_core_tx_state_data;
wire usb_usb_core_tx_state_sync;
wire usb_usb_core_tx_nrzi_dat;
wire usb_usb_core_tx_nrzi_oe1;
reg usb_usb_core_txstate_i_pkt_start = 1'd0;
reg usb_usb_core_txstate_o_pkt_end = 1'd0;
reg [3:0] usb_usb_core_txstate_i_pid = 4'd0;
wire [7:0] usb_usb_core_txstate_i_data_payload0;
wire usb_usb_core_txstate_i_data_ready;
reg usb_usb_core_txstate_o_data_ack = 1'd0;
wire usb_usb_core_txstate_o_oe12;
reg [3:0] usb_usb_core_txstate_pid = 4'd0;
wire [7:0] usb_usb_core_txstate_i_data_payload1;
reg usb_usb_core_txstate_i_data_strobe = 1'd0;
wire [15:0] usb_usb_core_txstate_o_crc;
wire [7:0] usb_usb_core_txstate_crc_dat;
reg [15:0] usb_usb_core_txstate_crc_cur = 16'd65535;
reg [15:0] usb_usb_core_txstate_crc_next = 16'd64770;
wire usb_usb_core_txstate_reset;
reg usb_usb_core_txstate_is_ongoing0 = 1'd0;
reg usb_usb_core_txstate_is_ongoing1 = 1'd0;
reg usb_usb_core_rx_reset0 = 1'd0;
wire usb_usb_core_rx_o_bit_strobe;
wire usb_usb_core_rx_i_usbp;
wire usb_usb_core_rx_i_usbn;
wire usb_usb_core_rx_o_data_strobe;
wire [7:0] usb_usb_core_rx_o_data_payload;
wire usb_usb_core_rx_o_pkt_start;
reg usb_usb_core_rx_o_pkt_in_progress = 1'd0;
wire usb_usb_core_rx_o_pkt_end;
wire [1:0] usb_usb_core_rx_dpair;
reg usb_usb_core_rx_line_state_dt = 1'd0;
reg usb_usb_core_rx_line_state_dj0 = 1'd0;
reg usb_usb_core_rx_line_state_dk0 = 1'd0;
reg usb_usb_core_rx_line_state_se00 = 1'd0;
reg usb_usb_core_rx_line_state_se10 = 1'd0;
reg [1:0] usb_usb_core_rx_line_state_phase = 2'd0;
reg usb_usb_core_rx_line_state_valid = 1'd0;
reg usb_usb_core_rx_line_state_dj1 = 1'd0;
reg usb_usb_core_rx_line_state_dk1 = 1'd0;
reg usb_usb_core_rx_line_state_se01 = 1'd0;
reg usb_usb_core_rx_line_state_se11 = 1'd0;
wire usb_usb_core_rx_o_reset;
reg [6:0] usb_usb_core_rx_reset_counter = 7'd0;
wire usb_usb_core_rx_nrzi_i_valid;
wire usb_usb_core_rx_nrzi_i_dj;
wire usb_usb_core_rx_nrzi_i_dk;
wire usb_usb_core_rx_nrzi_i_se0;
reg usb_usb_core_rx_nrzi_o_valid = 1'd0;
reg usb_usb_core_rx_nrzi_o_data = 1'd0;
reg usb_usb_core_rx_nrzi_o_se0 = 1'd0;
reg usb_usb_core_rx_nrzi_last_data = 1'd0;
wire usb_usb_core_rx_reset1;
wire usb_usb_core_rx_detect_i_valid;
wire usb_usb_core_rx_detect_i_data;
wire usb_usb_core_rx_detect_i_se0;
reg usb_usb_core_rx_detect_pkt_start = 1'd0;
reg usb_usb_core_rx_detect_pkt_active = 1'd0;
reg usb_usb_core_rx_detect_pkt_end = 1'd0;
wire usb_usb_core_rx_detect_o_pkt_start;
wire usb_usb_core_rx_detect_o_pkt_active;
wire usb_usb_core_rx_detect_o_pkt_end;
wire usb_usb_core_rx_detect_reset;
wire usb_usb_core_rx_bitstuff_i_valid;
wire usb_usb_core_rx_bitstuff_i_data;
reg usb_usb_core_rx_bitstuff_drop_bit = 1'd0;
reg usb_usb_core_rx_bitstuff_o_data = 1'd0;
reg usb_usb_core_rx_bitstuff_o_error = 1'd0;
reg usb_usb_core_rx_bitstuff_o_stall = 1'd1;
wire usb_usb_core_rx_bitstuff_reset;
reg usb_usb_core_rx_last_reset = 1'd0;
wire usb_usb_core_rx_shifter_i_valid;
wire usb_usb_core_rx_shifter_i_data;
wire [7:0] usb_usb_core_rx_shifter_o_data;
reg usb_usb_core_rx_shifter_o_put = 1'd0;
reg [8:0] usb_usb_core_rx_shifter_shift_reg = 9'd1;
wire usb_usb_core_rx_shifter_reset;
wire usb_usb_core_rx_flag_start;
wire usb_usb_core_rx_flag_end;
wire usb_usb_core_rx_flag_valid;
wire usb_usb_core_rx_payloadFifo_asyncfifo_we;
wire usb_usb_core_rx_payloadFifo_asyncfifo_writable;
wire usb_usb_core_rx_payloadFifo_asyncfifo_re;
wire usb_usb_core_rx_payloadFifo_asyncfifo_readable;
wire [7:0] usb_usb_core_rx_payloadFifo_asyncfifo_din;
wire [7:0] usb_usb_core_rx_payloadFifo_asyncfifo_dout;
wire usb_usb_core_rx_payloadFifo_graycounter0_ce;
(* no_retiming = "true" *) reg [1:0] usb_usb_core_rx_payloadFifo_graycounter0_q = 2'd0;
wire [1:0] usb_usb_core_rx_payloadFifo_graycounter0_q_next;
reg [1:0] usb_usb_core_rx_payloadFifo_graycounter0_q_binary = 2'd0;
reg [1:0] usb_usb_core_rx_payloadFifo_graycounter0_q_next_binary = 2'd0;
wire usb_usb_core_rx_payloadFifo_graycounter1_ce;
(* no_retiming = "true" *) reg [1:0] usb_usb_core_rx_payloadFifo_graycounter1_q = 2'd0;
wire [1:0] usb_usb_core_rx_payloadFifo_graycounter1_q_next;
reg [1:0] usb_usb_core_rx_payloadFifo_graycounter1_q_binary = 2'd0;
reg [1:0] usb_usb_core_rx_payloadFifo_graycounter1_q_next_binary = 2'd0;
wire [1:0] usb_usb_core_rx_payloadFifo_produce_rdomain;
wire [1:0] usb_usb_core_rx_payloadFifo_consume_wdomain;
wire usb_usb_core_rx_payloadFifo_wrport_adr;
wire [7:0] usb_usb_core_rx_payloadFifo_wrport_dat_r;
wire usb_usb_core_rx_payloadFifo_wrport_we;
wire [7:0] usb_usb_core_rx_payloadFifo_wrport_dat_w;
wire usb_usb_core_rx_payloadFifo_rdport_adr;
wire [7:0] usb_usb_core_rx_payloadFifo_rdport_dat_r;
wire usb_usb_core_rx_flagsFifo_asyncfifo_we;
wire usb_usb_core_rx_flagsFifo_asyncfifo_writable;
wire usb_usb_core_rx_flagsFifo_asyncfifo_re;
wire usb_usb_core_rx_flagsFifo_asyncfifo_readable;
reg [1:0] usb_usb_core_rx_flagsFifo_asyncfifo_din = 2'd0;
wire [1:0] usb_usb_core_rx_flagsFifo_asyncfifo_dout;
wire usb_usb_core_rx_flagsFifo_graycounter0_ce;
(* no_retiming = "true" *) reg [1:0] usb_usb_core_rx_flagsFifo_graycounter0_q = 2'd0;
wire [1:0] usb_usb_core_rx_flagsFifo_graycounter0_q_next;
reg [1:0] usb_usb_core_rx_flagsFifo_graycounter0_q_binary = 2'd0;
reg [1:0] usb_usb_core_rx_flagsFifo_graycounter0_q_next_binary = 2'd0;
wire usb_usb_core_rx_flagsFifo_graycounter1_ce;
(* no_retiming = "true" *) reg [1:0] usb_usb_core_rx_flagsFifo_graycounter1_q = 2'd0;
wire [1:0] usb_usb_core_rx_flagsFifo_graycounter1_q_next;
reg [1:0] usb_usb_core_rx_flagsFifo_graycounter1_q_binary = 2'd0;
reg [1:0] usb_usb_core_rx_flagsFifo_graycounter1_q_next_binary = 2'd0;
wire [1:0] usb_usb_core_rx_flagsFifo_produce_rdomain;
wire [1:0] usb_usb_core_rx_flagsFifo_consume_wdomain;
wire usb_usb_core_rx_flagsFifo_wrport_adr;
wire [1:0] usb_usb_core_rx_flagsFifo_wrport_dat_r;
wire usb_usb_core_rx_flagsFifo_wrport_we;
wire [1:0] usb_usb_core_rx_flagsFifo_wrport_dat_w;
wire usb_usb_core_rx_flagsFifo_rdport_adr;
wire [1:0] usb_usb_core_rx_flagsFifo_rdport_dat_r;
reg [3:0] usb_usb_core_o_pid = 4'd0;
reg [6:0] usb_usb_core_o_addr = 7'd0;
reg usb_usb_core_endp4 = 1'd0;
reg [3:0] usb_usb_core_o_endp = 4'd0;
reg [4:0] usb_usb_core_crc5 = 5'd0;
reg usb_usb_core_o_decoded = 1'd0;
wire usb_usb_core_reset0;
wire usb_usb_core_usb_reset;
reg usb_usb_core_data_recv_put = 1'd0;
wire [7:0] usb_usb_core_data_recv_payload;
reg usb_usb_core_data_send_get = 1'd0;
reg usb_usb_core_data_send_have = 1'd0;
reg [7:0] usb_usb_core_data_send_payload = 8'd0;
reg usb_usb_core_rdy = 1'd1;
wire usb_usb_core_dtb;
reg usb_usb_core_arm = 1'd0;
reg usb_usb_core_sta = 1'd0;
reg [6:0] usb_usb_core_addr = 7'd0;
reg [3:0] usb_usb_core_tok = 4'd0;
reg [3:0] usb_usb_core_endp = 4'd0;
reg usb_usb_core_idle = 1'd0;
reg usb_usb_core_start = 1'd0;
reg usb_usb_core_poll = 1'd0;
reg usb_usb_core_setup = 1'd0;
reg usb_usb_core_commit = 1'd0;
reg usb_usb_core_retry = 1'd0;
reg usb_usb_core_abort = 1'd0;
wire usb_usb_core_end;
reg usb_usb_core_data_end = 1'd0;
reg usb_usb_core_error = 1'd0;
wire usb_usb_core_transfer_reset;
reg [3:0] usb_usb_core_response_pid = 4'd0;
wire usb_usb_core_is_el0;
wire usb_usb_core_is_el1;
reg usb_pullup_storage = 1'd0;
reg usb_pullup_re = 1'd0;
reg usb_debug_packet_detected = 1'd0;
wire [6:0] usb_csrfield_addr;
reg [6:0] usb_csrstorage_storage = 7'd0;
reg usb_csrstorage_re = 1'd0;
wire usb_address_reset;
reg usb_csrfield_in = 1'd0;
reg usb_csrfield_out = 1'd0;
reg usb_csrfield_setup = 1'd0;
reg usb_csrfield_reset = 1'd0;
reg [3:0] usb_status = 4'd0;
wire usb_we;
reg usb_setuphandler_reset = 1'd0;
reg usb_setuphandler_begin = 1'd0;
reg usb_setuphandler_epno = 1'd0;
wire usb_setuphandler_usb_reset;
wire [7:0] usb_setuphandler_csrfield_data0;
wire [7:0] usb_setuphandler_data_status;
wire usb_setuphandler_data_we;
reg usb_setuphandler_csrfield_reset = 1'd0;
reg [5:0] usb_setuphandler_ctrl_storage = 6'd0;
reg usb_setuphandler_ctrl_re = 1'd0;
wire [3:0] usb_setuphandler_csrfield_epno;
wire usb_setuphandler_csrfield_have;
wire usb_setuphandler_csrfield_pend;
wire usb_setuphandler_csrfield_is_in;
wire usb_setuphandler_csrfield_data1;
reg [7:0] usb_setuphandler_status_status = 8'd0;
wire usb_setuphandler_status_we;
wire usb_setuphandler_irq;
wire usb_setuphandler_packet_status;
reg usb_setuphandler_packet_pending = 1'd0;
wire usb_setuphandler_packet_trigger;
reg usb_setuphandler_packet_clear = 1'd0;
wire usb_setuphandler_reset_status;
reg usb_setuphandler_reset_pending = 1'd0;
wire usb_setuphandler_reset_trigger;
reg usb_setuphandler_reset_clear = 1'd0;
reg usb_setuphandler_reset_old_trigger = 1'd0;
wire usb_setuphandler_eventmanager_status_re;
wire [1:0] usb_setuphandler_eventmanager_status_r;
wire usb_setuphandler_eventmanager_status_we;
reg [1:0] usb_setuphandler_eventmanager_status_w = 2'd0;
wire usb_setuphandler_eventmanager_pending_re;
wire [1:0] usb_setuphandler_eventmanager_pending_r;
wire usb_setuphandler_eventmanager_pending_we;
reg [1:0] usb_setuphandler_eventmanager_pending_w = 2'd0;
reg [1:0] usb_setuphandler_eventmanager_storage = 2'd0;
reg usb_setuphandler_eventmanager_re = 1'd0;
reg [7:0] usb_setuphandler_data_recv_payload = 8'd0;
reg usb_setuphandler_data_recv_put = 1'd0;
wire usb_setuphandler_setuphandlerinner_re;
reg usb_setuphandler_setuphandlerinner_readable = 1'd0;
reg usb_setuphandler_setuphandlerinner_syncfifo_we = 1'd0;
wire usb_setuphandler_setuphandlerinner_syncfifo_writable;
wire usb_setuphandler_setuphandlerinner_syncfifo_re;
wire usb_setuphandler_setuphandlerinner_syncfifo_readable;
reg [7:0] usb_setuphandler_setuphandlerinner_syncfifo_din = 8'd0;
wire [7:0] usb_setuphandler_setuphandlerinner_syncfifo_dout;
reg [3:0] usb_setuphandler_setuphandlerinner_level0 = 4'd0;
reg usb_setuphandler_setuphandlerinner_replace = 1'd0;
reg [3:0] usb_setuphandler_setuphandlerinner_produce = 4'd0;
reg [3:0] usb_setuphandler_setuphandlerinner_consume = 4'd0;
reg [3:0] usb_setuphandler_setuphandlerinner_wrport_adr = 4'd0;
wire [7:0] usb_setuphandler_setuphandlerinner_wrport_dat_r;
wire usb_setuphandler_setuphandlerinner_wrport_we;
wire [7:0] usb_setuphandler_setuphandlerinner_wrport_dat_w;
wire usb_setuphandler_setuphandlerinner_do_read;
wire [3:0] usb_setuphandler_setuphandlerinner_rdport_adr;
wire [7:0] usb_setuphandler_setuphandlerinner_rdport_dat_r;
wire usb_setuphandler_setuphandlerinner_rdport_re;
wire [3:0] usb_setuphandler_setuphandlerinner_level1;
reg [3:0] usb_setuphandler_setuphandlerinner_data_byte = 4'd0;
reg usb_setuphandler_setuphandlerinner_have_data_stage = 1'd0;
reg usb_setuphandler_setuphandlerinner_is_in = 1'd0;
wire usb_setuphandler_setuphandlerinner_empty;
wire usb_setuphandler_inner_reset;
wire usb_inhandler_dtb;
reg [15:0] usb_inhandler_dtbs = 16'd1;
reg [15:0] usb_inhandler_stall_status = 16'd0;
wire usb_inhandler_syncfifobuffered_re;
reg usb_inhandler_syncfifobuffered_readable = 1'd0;
wire usb_inhandler_syncfifobuffered_syncfifo_we;
wire usb_inhandler_syncfifobuffered_syncfifo_writable;
wire usb_inhandler_syncfifobuffered_syncfifo_re;
wire usb_inhandler_syncfifobuffered_syncfifo_readable;
wire [7:0] usb_inhandler_syncfifobuffered_syncfifo_din;
wire [7:0] usb_inhandler_syncfifobuffered_syncfifo_dout;
reg [6:0] usb_inhandler_syncfifobuffered_level0 = 7'd0;
reg usb_inhandler_syncfifobuffered_replace = 1'd0;
reg [5:0] usb_inhandler_syncfifobuffered_produce = 6'd0;
reg [5:0] usb_inhandler_syncfifobuffered_consume = 6'd0;
reg [5:0] usb_inhandler_syncfifobuffered_wrport_adr = 6'd0;
wire [7:0] usb_inhandler_syncfifobuffered_wrport_dat_r;
wire usb_inhandler_syncfifobuffered_wrport_we;
wire [7:0] usb_inhandler_syncfifobuffered_wrport_dat_w;
wire usb_inhandler_syncfifobuffered_do_read;
wire [5:0] usb_inhandler_syncfifobuffered_rdport_adr;
wire [7:0] usb_inhandler_syncfifobuffered_rdport_dat_r;
wire usb_inhandler_syncfifobuffered_rdport_re;
wire [6:0] usb_inhandler_syncfifobuffered_level1;
wire usb_inhandler_data_buf_reset;
wire [7:0] usb_inhandler_csrfield_data;
reg [7:0] usb_inhandler_data_storage = 8'd0;
reg usb_inhandler_data_re = 1'd0;
wire [3:0] usb_inhandler_csrfield_epno;
reg usb_inhandler_csrfield_reset = 1'd0;
reg usb_inhandler_csrfield_stall = 1'd0;
reg [6:0] usb_inhandler_ctrl_storage = 7'd0;
reg usb_inhandler_ctrl_re = 1'd0;
wire usb_inhandler_csrfield_idle;
wire usb_inhandler_csrfield_have;
wire usb_inhandler_csrfield_pend;
reg [5:0] usb_inhandler_status_status = 6'd0;
wire usb_inhandler_status_we;
wire usb_inhandler_irq;
wire usb_inhandler_packet_status;
reg usb_inhandler_packet_pending = 1'd0;
wire usb_inhandler_packet_trigger;
reg usb_inhandler_packet_clear = 1'd0;
wire usb_inhandler_eventmanager_status_re;
wire usb_inhandler_eventmanager_status_r;
wire usb_inhandler_eventmanager_status_we;
wire usb_inhandler_eventmanager_status_w;
wire usb_inhandler_eventmanager_pending_re;
wire usb_inhandler_eventmanager_pending_r;
wire usb_inhandler_eventmanager_pending_we;
wire usb_inhandler_eventmanager_pending_w;
reg usb_inhandler_eventmanager_storage = 1'd0;
reg usb_inhandler_eventmanager_re = 1'd0;
wire [15:0] usb_inhandler_ep_stall_mask;
wire usb_inhandler_stalled;
wire usb_inhandler_response;
reg usb_inhandler_queued = 1'd0;
reg usb_inhandler_was_queued = 1'd0;
reg usb_inhandler_transmitted = 1'd0;
reg usb_inhandler_dtb_reset = 1'd0;
wire [7:0] usb_inhandler_data_out;
wire usb_inhandler_data_out_have;
reg usb_inhandler_data_out_advance = 1'd0;
wire usb_inhandler_is_our_packet;
wire usb_inhandler_is_in_packet;
wire usb_outhandler_syncfifobuffered_re;
reg usb_outhandler_syncfifobuffered_readable = 1'd0;
wire usb_outhandler_syncfifobuffered_syncfifo_we;
wire usb_outhandler_syncfifobuffered_syncfifo_writable;
wire usb_outhandler_syncfifobuffered_syncfifo_re;
wire usb_outhandler_syncfifobuffered_syncfifo_readable;
wire [7:0] usb_outhandler_syncfifobuffered_syncfifo_din;
wire [7:0] usb_outhandler_syncfifobuffered_syncfifo_dout;
reg [6:0] usb_outhandler_syncfifobuffered_level0 = 7'd0;
reg usb_outhandler_syncfifobuffered_replace = 1'd0;
reg [6:0] usb_outhandler_syncfifobuffered_produce = 7'd0;
reg [6:0] usb_outhandler_syncfifobuffered_consume = 7'd0;
reg [6:0] usb_outhandler_syncfifobuffered_wrport_adr = 7'd0;
wire [7:0] usb_outhandler_syncfifobuffered_wrport_dat_r;
wire usb_outhandler_syncfifobuffered_wrport_we;
wire [7:0] usb_outhandler_syncfifobuffered_wrport_dat_w;
wire usb_outhandler_syncfifobuffered_do_read;
wire [6:0] usb_outhandler_syncfifobuffered_rdport_adr;
wire [7:0] usb_outhandler_syncfifobuffered_rdport_dat_r;
wire usb_outhandler_syncfifobuffered_rdport_re;
wire [6:0] usb_outhandler_syncfifobuffered_level1;
wire usb_outhandler_data_buf_reset;
wire [7:0] usb_outhandler_csrfield_data;
wire [7:0] usb_outhandler_data_status;
wire usb_outhandler_data_we;
wire [3:0] usb_outhandler_csrfield_epno0;
wire usb_outhandler_csrfield_enable;
reg usb_outhandler_csrfield_reset = 1'd0;
wire usb_outhandler_csrfield_stall;
reg [6:0] usb_outhandler_ctrl_storage = 7'd0;
reg usb_outhandler_ctrl_re = 1'd0;
wire [3:0] usb_outhandler_csrfield_epno1;
wire usb_outhandler_csrfield_have;
wire usb_outhandler_csrfield_pend;
reg [5:0] usb_outhandler_status_status = 6'd0;
wire usb_outhandler_status_we;
wire usb_outhandler_irq;
wire usb_outhandler_packet_status;
reg usb_outhandler_packet_pending = 1'd0;
wire usb_outhandler_packet_trigger;
reg usb_outhandler_packet_clear = 1'd0;
wire usb_outhandler_eventmanager_status_re;
wire usb_outhandler_eventmanager_status_r;
wire usb_outhandler_eventmanager_status_we;
wire usb_outhandler_eventmanager_status_w;
wire usb_outhandler_eventmanager_pending_re;
wire usb_outhandler_eventmanager_pending_r;
wire usb_outhandler_eventmanager_pending_we;
wire usb_outhandler_eventmanager_pending_w;
reg usb_outhandler_eventmanager_storage = 1'd0;
reg usb_outhandler_eventmanager_re = 1'd0;
reg usb_outhandler_usb_reset = 1'd0;
wire usb_outhandler_stalled;
wire usb_outhandler_enabled;
reg [15:0] usb_outhandler_stall_status = 16'd0;
reg [15:0] usb_outhandler_enable_status = 16'd0;
reg [15:0] usb_outhandler_ep_mask = 16'd1;
reg [3:0] usb_outhandler_epno = 4'd0;
wire usb_outhandler_response;
reg usb_outhandler_responding = 1'd0;
wire usb_outhandler_is_out_packet;
reg [7:0] usb_outhandler_data_recv_payload = 8'd0;
reg usb_outhandler_data_recv_put = 1'd0;
wire usb_ev_irq;
reg usb_in_next = 1'd0;
reg usb_out_next = 1'd0;
reg usb_usb_core_reset1 = 1'd0;
wire usb_resetinserter_reset;
wire [29:0] wb_bus_adr;
wire [31:0] wb_bus_dat_w;
wire [31:0] wb_bus_dat_r;
wire [3:0] wb_bus_sel;
wire wb_bus_cyc;
wire wb_bus_stb;
wire wb_bus_ack;
wire wb_bus_we;
wire [2:0] wb_bus_cti;
wire [1:0] wb_bus_bte;
wire wb_bus_err;
reg wb2csr_state = 1'd0;
reg wb2csr_next_state = 1'd0;
reg [1:0] triendpointinterface_fsm_state = 2'd0;
reg [1:0] triendpointinterface_fsm_next_state = 2'd0;
reg [7:0] usb_usb_core_tx_sync_pulse_txpipeline_next_value0 = 8'd0;
reg usb_usb_core_tx_sync_pulse_txpipeline_next_value_ce0 = 1'd0;
reg [1:0] usb_usb_core_tx_state_gray_txpipeline_next_value1 = 2'd0;
reg usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 = 1'd0;
reg [2:0] triendpointinterface_resetinserter_state = 3'd0;
reg [2:0] triendpointinterface_resetinserter_next_state = 3'd0;
reg [2:0] triendpointinterface_txnrziencoder_state = 3'd0;
reg [2:0] triendpointinterface_txnrziencoder_next_state = 3'd0;
reg [3:0] triendpointinterface_txpacketsend_state = 4'd0;
reg [3:0] triendpointinterface_txpacketsend_next_state = 4'd0;
reg usb_usb_core_tx_i_oe_txpacketsend_next_value0 = 1'd0;
reg usb_usb_core_tx_i_oe_txpacketsend_next_value_ce0 = 1'd0;
reg [3:0] usb_usb_core_txstate_pid_txpacketsend_next_value1 = 4'd0;
reg usb_usb_core_txstate_pid_txpacketsend_next_value_ce1 = 1'd0;
reg [2:0] triendpointinterface_rxpipeline_state = 3'd0;
reg [2:0] triendpointinterface_rxpipeline_next_state = 3'd0;
reg [2:0] triendpointinterface_rxpipeline_rxpacketdetect_state = 3'd0;
reg [2:0] triendpointinterface_rxpipeline_rxpacketdetect_next_state = 3'd0;
reg [2:0] triendpointinterface_rxpipeline_rxbitstuffremover_state = 3'd0;
reg [2:0] triendpointinterface_rxpipeline_rxbitstuffremover_next_state = 3'd0;
reg [2:0] triendpointinterface_packetheaderdecode_state = 3'd0;
reg [2:0] triendpointinterface_packetheaderdecode_next_state = 3'd0;
reg [3:0] usb_usb_core_o_pid_packetheaderdecode_next_value0 = 4'd0;
reg usb_usb_core_o_pid_packetheaderdecode_next_value_ce0 = 1'd0;
reg [6:0] triendpointinterface_packetheaderdecode_next_value = 7'd0;
reg triendpointinterface_packetheaderdecode_next_value_ce = 1'd0;
reg usb_usb_core_endp4_packetheaderdecode_next_value1 = 1'd0;
reg usb_usb_core_endp4_packetheaderdecode_next_value_ce1 = 1'd0;
reg [3:0] usb_usb_core_o_endp_packetheaderdecode_next_value2 = 4'd0;
reg usb_usb_core_o_endp_packetheaderdecode_next_value_ce2 = 1'd0;
reg [4:0] usb_usb_core_crc5_packetheaderdecode_next_value3 = 5'd0;
reg usb_usb_core_crc5_packetheaderdecode_next_value_ce3 = 1'd0;
reg [3:0] triendpointinterface_clockdomainsrenamer_state = 4'd1;
reg [3:0] triendpointinterface_clockdomainsrenamer_next_state = 4'd0;
reg [3:0] usb_usb_core_tok_f_next_value0 = 4'd0;
reg usb_usb_core_tok_f_next_value_ce0 = 1'd0;
reg [3:0] usb_usb_core_endp_f_next_value1 = 4'd0;
reg usb_usb_core_endp_f_next_value_ce1 = 1'd0;
reg [3:0] usb_usb_core_response_pid_t_next_value = 4'd0;
reg usb_usb_core_response_pid_t_next_value_ce = 1'd0;
reg [2:0] triendpointinterface_state = 3'd0;
reg [2:0] triendpointinterface_next_state = 3'd0;
reg [6:0] usb_usb_core_addr_next_value = 7'd0;
reg usb_usb_core_addr_next_value_ce = 1'd0;
wire [29:0] shared_adr;
wire [31:0] shared_dat_w;
reg [31:0] shared_dat_r = 32'd0;
wire [3:0] shared_sel;
wire shared_cyc;
wire shared_stb;
reg shared_ack = 1'd0;
wire shared_we;
wire [2:0] shared_cti;
wire [1:0] shared_bte;
wire shared_err;
wire request;
wire grant;
wire slave_sel;
reg slave_sel_r = 1'd0;
reg error = 1'd0;
wire wait_1;
wire done;
reg [19:0] count = 20'd1000000;
wire [13:0] interface0_bank_bus_adr;
wire interface0_bank_bus_we;
wire [7:0] interface0_bank_bus_dat_w;
reg [7:0] interface0_bank_bus_dat_r = 8'd0;
wire csrbank0_reset0_re;
wire csrbank0_reset0_r;
wire csrbank0_reset0_we;
wire csrbank0_reset0_w;
wire csrbank0_scratch3_re;
wire [7:0] csrbank0_scratch3_r;
wire csrbank0_scratch3_we;
wire [7:0] csrbank0_scratch3_w;
wire csrbank0_scratch2_re;
wire [7:0] csrbank0_scratch2_r;
wire csrbank0_scratch2_we;
wire [7:0] csrbank0_scratch2_w;
wire csrbank0_scratch1_re;
wire [7:0] csrbank0_scratch1_r;
wire csrbank0_scratch1_we;
wire [7:0] csrbank0_scratch1_w;
wire csrbank0_scratch0_re;
wire [7:0] csrbank0_scratch0_r;
wire csrbank0_scratch0_we;
wire [7:0] csrbank0_scratch0_w;
wire csrbank0_bus_errors3_re;
wire [7:0] csrbank0_bus_errors3_r;
wire csrbank0_bus_errors3_we;
wire [7:0] csrbank0_bus_errors3_w;
wire csrbank0_bus_errors2_re;
wire [7:0] csrbank0_bus_errors2_r;
wire csrbank0_bus_errors2_we;
wire [7:0] csrbank0_bus_errors2_w;
wire csrbank0_bus_errors1_re;
wire [7:0] csrbank0_bus_errors1_r;
wire csrbank0_bus_errors1_we;
wire [7:0] csrbank0_bus_errors1_w;
wire csrbank0_bus_errors0_re;
wire [7:0] csrbank0_bus_errors0_r;
wire csrbank0_bus_errors0_we;
wire [7:0] csrbank0_bus_errors0_w;
wire csrbank0_sel;
wire [13:0] interface1_bank_bus_adr;
wire interface1_bank_bus_we;
wire [7:0] interface1_bank_bus_dat_w;
reg [7:0] interface1_bank_bus_dat_r = 8'd0;
wire csrbank1_pullup_out0_re;
wire csrbank1_pullup_out0_r;
wire csrbank1_pullup_out0_we;
wire csrbank1_pullup_out0_w;
wire csrbank1_address0_re;
wire [6:0] csrbank1_address0_r;
wire csrbank1_address0_we;
wire [6:0] csrbank1_address0_w;
wire csrbank1_next_ev_re;
wire [3:0] csrbank1_next_ev_r;
wire csrbank1_next_ev_we;
wire [3:0] csrbank1_next_ev_w;
wire csrbank1_setup_data_re;
wire [7:0] csrbank1_setup_data_r;
wire csrbank1_setup_data_we;
wire [7:0] csrbank1_setup_data_w;
wire csrbank1_setup_ctrl0_re;
wire [5:0] csrbank1_setup_ctrl0_r;
wire csrbank1_setup_ctrl0_we;
wire [5:0] csrbank1_setup_ctrl0_w;
wire csrbank1_setup_status_re;
wire [7:0] csrbank1_setup_status_r;
wire csrbank1_setup_status_we;
wire [7:0] csrbank1_setup_status_w;
wire csrbank1_setup_ev_enable0_re;
wire [1:0] csrbank1_setup_ev_enable0_r;
wire csrbank1_setup_ev_enable0_we;
wire [1:0] csrbank1_setup_ev_enable0_w;
wire csrbank1_in_data0_re;
wire [7:0] csrbank1_in_data0_r;
wire csrbank1_in_data0_we;
wire [7:0] csrbank1_in_data0_w;
wire csrbank1_in_ctrl0_re;
wire [6:0] csrbank1_in_ctrl0_r;
wire csrbank1_in_ctrl0_we;
wire [6:0] csrbank1_in_ctrl0_w;
wire csrbank1_in_status_re;
wire [5:0] csrbank1_in_status_r;
wire csrbank1_in_status_we;
wire [5:0] csrbank1_in_status_w;
wire csrbank1_in_ev_enable0_re;
wire csrbank1_in_ev_enable0_r;
wire csrbank1_in_ev_enable0_we;
wire csrbank1_in_ev_enable0_w;
wire csrbank1_out_data_re;
wire [7:0] csrbank1_out_data_r;
wire csrbank1_out_data_we;
wire [7:0] csrbank1_out_data_w;
wire csrbank1_out_ctrl0_re;
wire [6:0] csrbank1_out_ctrl0_r;
wire csrbank1_out_ctrl0_we;
wire [6:0] csrbank1_out_ctrl0_w;
wire csrbank1_out_status_re;
wire [5:0] csrbank1_out_status_r;
wire csrbank1_out_status_we;
wire [5:0] csrbank1_out_status_w;
wire csrbank1_out_ev_enable0_re;
wire csrbank1_out_ev_enable0_r;
wire csrbank1_out_ev_enable0_we;
wire csrbank1_out_ev_enable0_w;
wire csrbank1_sel;
wire [13:0] adr;
wire we;
wire [7:0] dat_w;
wire [7:0] dat_r;
wire [8:0] slice_proxy;
reg [29:0] array_muxed0 = 30'd0;
reg [31:0] array_muxed1 = 32'd0;
reg [3:0] array_muxed2 = 4'd0;
reg array_muxed3 = 1'd0;
reg array_muxed4 = 1'd0;
reg array_muxed5 = 1'd0;
reg [2:0] array_muxed6 = 3'd0;
reg [1:0] array_muxed7 = 2'd0;
(* no_retiming = "true" *) reg multiregimpl0_regs0 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl0_regs1 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl1_regs0 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl1_regs1 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl2_regs0 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl2_regs1 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl2_regs2 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl3_regs0 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl3_regs1 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl3_regs2 = 1'd0;
(* no_retiming = "true" *) reg multiregimpl4_regs = 1'd0;
(* no_retiming = "true" *) reg [1:0] multiregimpl5_regs0 = 2'd0;
(* no_retiming = "true" *) reg [1:0] multiregimpl5_regs1 = 2'd0;
(* no_retiming = "true" *) reg [1:0] multiregimpl6_regs0 = 2'd0;
(* no_retiming = "true" *) reg [1:0] multiregimpl6_regs1 = 2'd0;
(* no_retiming = "true" *) reg [1:0] multiregimpl7_regs0 = 2'd0;
(* no_retiming = "true" *) reg [1:0] multiregimpl7_regs1 = 2'd0;
(* no_retiming = "true" *) reg [1:0] multiregimpl8_regs0 = 2'd0;
(* no_retiming = "true" *) reg [1:0] multiregimpl8_regs1 = 2'd0;

assign wb_bus_adr = wb_adr;
assign wb_bus_dat_w = wb_dat_w;
assign wb_dat_r = wb_bus_dat_r;
assign wb_bus_sel = wb_sel;
assign wb_bus_cyc = wb_cyc;
assign wb_bus_stb = wb_stb;
assign wb_ack = wb_bus_ack;
assign wb_bus_we = wb_we;
assign wb_bus_cti = wb_cti;
assign wb_bus_bte = wb_bte;
assign wb_err = wb_bus_err;
assign litexcore_bus_error = error;
assign sys_rst = sys_rst_1;
assign sys_clk = clk12;
assign usb_12_rst = sys_rst_1;
assign usb_12_clk = clk12;
assign usb_48_rst = sys_rst_1;
assign usb_48_clk = clk48;
assign litexcore_reset = litexcore_reset_re;
assign litexcore_bus_errors_status = litexcore_bus_errors;
assign litexcore_dat_w = litexcore_bus_wishbone_dat_w;
assign litexcore_bus_wishbone_dat_r = litexcore_dat_r;
always @(*) begin
	litexcore_we <= 1'd0;
	litexcore_bus_wishbone_ack <= 1'd0;
	wb2csr_next_state <= 1'd0;
	litexcore_adr <= 14'd0;
	wb2csr_next_state <= wb2csr_state;
	case (wb2csr_state)
		1'd1: begin
			litexcore_bus_wishbone_ack <= 1'd1;
			wb2csr_next_state <= 1'd0;
		end
		default: begin
			if ((litexcore_bus_wishbone_cyc & litexcore_bus_wishbone_stb)) begin
				litexcore_adr <= litexcore_bus_wishbone_adr;
				litexcore_we <= litexcore_bus_wishbone_we;
				wb2csr_next_state <= 1'd1;
			end
		end
	endcase
end
assign usb_address_reset = usb_usb_core_usb_reset;
assign usb_setuphandler_usb_reset = usb_usb_core_usb_reset;
always @(*) begin
	usb_csrfield_out <= 1'd0;
	usb_csrfield_setup <= 1'd0;
	usb_csrfield_reset <= 1'd0;
	usb_csrfield_in <= 1'd0;
	if (usb_setuphandler_reset_pending) begin
		usb_csrfield_reset <= 1'd1;
	end else begin
		if (usb_in_next) begin
			usb_csrfield_in <= 1'd1;
		end else begin
			if (usb_out_next) begin
				usb_csrfield_out <= usb_out_next;
			end else begin
				if (usb_setuphandler_packet_pending) begin
					usb_csrfield_setup <= 1'd1;
				end
			end
		end
	end
end
assign usb_usb_core_dtb = (usb_inhandler_dtb | usb_debug_packet_detected);
assign usb_resetinserter_reset = usb_usb_core_usb_reset;
assign usb_usb_core_reset0 = (usb_usb_core_error | usb_usb_core_reset1);
assign usb_usb_core_tx_i_bit_strobe = usb_usb_core_rx_o_bit_strobe;
assign usb_usb_core_usb_reset = usb_usb_core_rx_o_reset;
assign usb_usb_core_rx_i_usbp = usb_iobuf_usb_p_rx;
assign usb_usb_core_rx_i_usbn = usb_iobuf_usb_n_rx;
assign usb_iobuf_usb_tx_en = usb_usb_core_tx_o_oe;
assign usb_iobuf_usb_p_tx = usb_usb_core_tx_o_usbp;
assign usb_iobuf_usb_n_tx = usb_usb_core_tx_o_usbn;
assign usb_usb_core_end = (usb_usb_core_commit | usb_usb_core_abort);
assign usb_usb_core_transfer_reset = usb_usb_core_reset0;
assign usb_usb_core_data_recv_payload = usb_usb_core_rx_o_data_payload;
assign usb_usb_core_txstate_i_data_payload0 = usb_usb_core_data_send_payload;
assign usb_usb_core_txstate_i_data_ready = usb_usb_core_data_send_have;
always @(*) begin
	usb_usb_core_rx_reset0 <= 1'd0;
	if (usb_usb_core_tx_o_oe) begin
		usb_usb_core_rx_reset0 <= 1'd1;
	end
end
assign usb_pullup = usb_iobuf_usb_pullup;
always @(*) begin
	usb_iobuf_usb_p_rx <= 1'd0;
	usb_iobuf_usb_n_rx <= 1'd0;
	if (usb_iobuf_usb_tx_en) begin
		usb_iobuf_usb_p_rx <= 1'd1;
		usb_iobuf_usb_n_rx <= 1'd0;
	end else begin
		usb_iobuf_usb_p_rx <= usb_iobuf_usb_p_t_i1;
		usb_iobuf_usb_n_rx <= usb_iobuf_usb_n_t_i1;
	end
end
assign usb_iobuf_usb_p_t_oe = usb_iobuf_usb_tx_en;
assign usb_iobuf_usb_n_t_oe = usb_iobuf_usb_tx_en;
assign usb_iobuf_usb_p_t_o = usb_iobuf_usb_p_tx;
assign usb_iobuf_usb_n_t_o = usb_iobuf_usb_n_tx;
assign usb_usb_core_tx_shifter_i_data = usb_usb_core_tx_i_data_payload;
assign usb_usb_core_tx_shifter_reset = (usb_usb_core_tx_da_reset_shifter | usb_usb_core_tx_sp_reset_shifter);
assign usb_usb_core_tx_shifter_ce = (~usb_usb_core_tx_stall);
assign usb_usb_core_tx_bitstuff_reset = usb_usb_core_tx_da_reset_bitstuff;
assign usb_usb_core_tx_bitstuff_i_data = usb_usb_core_tx_shifter_o_data;
assign usb_usb_core_tx_stall = usb_usb_core_tx_bitstuff_o_stall;
assign usb_usb_core_tx_sp_bit = usb_usb_core_tx_sync_pulse[0];
assign usb_usb_core_tx_sp_reset_bitstuff = usb_usb_core_tx_sync_pulse[0];
assign usb_usb_core_tx_sp_reset_shifter = usb_usb_core_tx_sync_pulse[1];
assign usb_usb_core_tx_sp_o_data_strobe = usb_usb_core_tx_sync_pulse[5];
assign usb_usb_core_tx_state_data = (usb_usb_core_tx_state_gray[0] & usb_usb_core_tx_state_gray[1]);
assign usb_usb_core_tx_state_sync = (usb_usb_core_tx_state_gray[0] & (~usb_usb_core_tx_state_gray[1]));
assign usb_usb_core_tx_fit_oe = (usb_usb_core_tx_state_data | usb_usb_core_tx_state_sync);
assign usb_usb_core_tx_fit_dat = (((usb_usb_core_tx_state_data & usb_usb_core_tx_shifter_o_data) & (~usb_usb_core_tx_bitstuff_o_stall)) | usb_usb_core_tx_sp_bit);
assign usb_usb_core_tx_o_data_strobe = ((((usb_usb_core_tx_state_data & usb_usb_core_tx_shifter_o_get) & (~usb_usb_core_tx_stall)) & usb_usb_core_tx_i_oe) | usb_usb_core_tx_sp_o_data_strobe);
assign usb_usb_core_tx_nrzi_i_valid = usb_usb_core_tx_i_bit_strobe;
assign usb_usb_core_tx_nrzi_i_data = usb_usb_core_tx_nrzi_dat;
assign usb_usb_core_tx_nrzi_i_oe = usb_usb_core_tx_nrzi_oe1;
assign usb_usb_core_tx_o_usbp = usb_usb_core_tx_nrzi_o_usbp;
assign usb_usb_core_tx_o_usbn = usb_usb_core_tx_nrzi_o_usbn;
assign usb_usb_core_tx_o_oe = usb_usb_core_tx_nrzi_o_oe;
always @(*) begin
	triendpointinterface_fsm_next_state <= 2'd0;
	usb_usb_core_tx_sync_pulse_txpipeline_next_value0 <= 8'd0;
	usb_usb_core_tx_sync_pulse_txpipeline_next_value_ce0 <= 1'd0;
	usb_usb_core_tx_state_gray_txpipeline_next_value1 <= 2'd0;
	usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 <= 1'd0;
	triendpointinterface_fsm_next_state <= triendpointinterface_fsm_state;
	case (triendpointinterface_fsm_state)
		1'd1: begin
			usb_usb_core_tx_sync_pulse_txpipeline_next_value0 <= (usb_usb_core_tx_sync_pulse >>> 1'd1);
			usb_usb_core_tx_sync_pulse_txpipeline_next_value_ce0 <= 1'd1;
			if (usb_usb_core_tx_sync_pulse[0]) begin
				triendpointinterface_fsm_next_state <= 2'd2;
				usb_usb_core_tx_state_gray_txpipeline_next_value1 <= 2'd3;
				usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 <= 1'd1;
			end else begin
				usb_usb_core_tx_state_gray_txpipeline_next_value1 <= 1'd1;
				usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 <= 1'd1;
			end
		end
		2'd2: begin
			if ((((~usb_usb_core_tx_i_oe) & usb_usb_core_tx_shifter_o_empty) & (~usb_usb_core_tx_bitstuff_o_stall))) begin
				if (usb_usb_core_tx_bitstuff_o_will_stall) begin
					triendpointinterface_fsm_next_state <= 2'd3;
				end else begin
					usb_usb_core_tx_state_gray_txpipeline_next_value1 <= 2'd2;
					usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 <= 1'd1;
					triendpointinterface_fsm_next_state <= 1'd0;
				end
			end else begin
				usb_usb_core_tx_state_gray_txpipeline_next_value1 <= 2'd3;
				usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 <= 1'd1;
			end
		end
		2'd3: begin
			usb_usb_core_tx_state_gray_txpipeline_next_value1 <= 2'd2;
			usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 <= 1'd1;
			triendpointinterface_fsm_next_state <= 1'd0;
		end
		default: begin
			if (usb_usb_core_tx_i_oe) begin
				triendpointinterface_fsm_next_state <= 1'd1;
				usb_usb_core_tx_sync_pulse_txpipeline_next_value0 <= 8'd128;
				usb_usb_core_tx_sync_pulse_txpipeline_next_value_ce0 <= 1'd1;
				usb_usb_core_tx_state_gray_txpipeline_next_value1 <= 1'd1;
				usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 <= 1'd1;
			end else begin
				usb_usb_core_tx_state_gray_txpipeline_next_value1 <= 1'd0;
				usb_usb_core_tx_state_gray_txpipeline_next_value_ce1 <= 1'd1;
			end
		end
	endcase
end
assign usb_usb_core_tx_shifter_empty = usb_usb_core_tx_shifter_pos[0];
assign usb_usb_core_tx_shifter_o_empty = usb_usb_core_tx_shifter_empty;
assign usb_usb_core_tx_shifter_o_data = usb_usb_core_tx_shifter_shifter[0];
assign usb_usb_core_tx_bitstuff_o_stall = usb_usb_core_tx_bitstuff_stuff_bit;
always @(*) begin
	usb_usb_core_tx_bitstuff_o_will_stall <= 1'd0;
	triendpointinterface_resetinserter_next_state <= 3'd0;
	usb_usb_core_tx_bitstuff_stuff_bit <= 1'd0;
	triendpointinterface_resetinserter_next_state <= triendpointinterface_resetinserter_state;
	case (triendpointinterface_resetinserter_state)
		1'd1: begin
			if (usb_usb_core_tx_bitstuff_i_data) begin
				triendpointinterface_resetinserter_next_state <= 2'd2;
			end else begin
				triendpointinterface_resetinserter_next_state <= 1'd0;
			end
		end
		2'd2: begin
			if (usb_usb_core_tx_bitstuff_i_data) begin
				triendpointinterface_resetinserter_next_state <= 2'd3;
			end else begin
				triendpointinterface_resetinserter_next_state <= 1'd0;
			end
		end
		2'd3: begin
			if (usb_usb_core_tx_bitstuff_i_data) begin
				triendpointinterface_resetinserter_next_state <= 3'd4;
			end else begin
				triendpointinterface_resetinserter_next_state <= 1'd0;
			end
		end
		3'd4: begin
			if (usb_usb_core_tx_bitstuff_i_data) begin
				triendpointinterface_resetinserter_next_state <= 3'd5;
			end else begin
				triendpointinterface_resetinserter_next_state <= 1'd0;
			end
		end
		3'd5: begin
			if (usb_usb_core_tx_bitstuff_i_data) begin
				usb_usb_core_tx_bitstuff_o_will_stall <= 1'd1;
				triendpointinterface_resetinserter_next_state <= 3'd6;
			end else begin
				triendpointinterface_resetinserter_next_state <= 1'd0;
			end
		end
		3'd6: begin
			usb_usb_core_tx_bitstuff_stuff_bit <= 1'd1;
			triendpointinterface_resetinserter_next_state <= 1'd0;
		end
		default: begin
			if (usb_usb_core_tx_bitstuff_i_data) begin
				triendpointinterface_resetinserter_next_state <= 1'd1;
			end else begin
				triendpointinterface_resetinserter_next_state <= 1'd0;
			end
		end
	endcase
end
always @(*) begin
	usb_usb_core_tx_nrzi_oe0 <= 1'd0;
	triendpointinterface_txnrziencoder_next_state <= 3'd0;
	usb_usb_core_tx_nrzi_usbp <= 1'd0;
	usb_usb_core_tx_nrzi_usbn <= 1'd0;
	triendpointinterface_txnrziencoder_next_state <= triendpointinterface_txnrziencoder_state;
	case (triendpointinterface_txnrziencoder_state)
		1'd1: begin
			usb_usb_core_tx_nrzi_usbp <= 1'd1;
			usb_usb_core_tx_nrzi_usbn <= 1'd0;
			usb_usb_core_tx_nrzi_oe0 <= 1'd1;
			if (usb_usb_core_tx_nrzi_i_valid) begin
				if ((~usb_usb_core_tx_nrzi_i_oe)) begin
					triendpointinterface_txnrziencoder_next_state <= 2'd3;
				end else begin
					if (usb_usb_core_tx_nrzi_i_data) begin
						triendpointinterface_txnrziencoder_next_state <= 1'd1;
					end else begin
						triendpointinterface_txnrziencoder_next_state <= 2'd2;
					end
				end
			end
		end
		2'd2: begin
			usb_usb_core_tx_nrzi_usbp <= 1'd0;
			usb_usb_core_tx_nrzi_usbn <= 1'd1;
			usb_usb_core_tx_nrzi_oe0 <= 1'd1;
			if (usb_usb_core_tx_nrzi_i_valid) begin
				if ((~usb_usb_core_tx_nrzi_i_oe)) begin
					triendpointinterface_txnrziencoder_next_state <= 2'd3;
				end else begin
					if (usb_usb_core_tx_nrzi_i_data) begin
						triendpointinterface_txnrziencoder_next_state <= 2'd2;
					end else begin
						triendpointinterface_txnrziencoder_next_state <= 1'd1;
					end
				end
			end
		end
		2'd3: begin
			usb_usb_core_tx_nrzi_usbp <= 1'd0;
			usb_usb_core_tx_nrzi_usbn <= 1'd0;
			usb_usb_core_tx_nrzi_oe0 <= 1'd1;
			if (usb_usb_core_tx_nrzi_i_valid) begin
				triendpointinterface_txnrziencoder_next_state <= 3'd4;
			end
		end
		3'd4: begin
			usb_usb_core_tx_nrzi_usbp <= 1'd0;
			usb_usb_core_tx_nrzi_usbn <= 1'd0;
			usb_usb_core_tx_nrzi_oe0 <= 1'd1;
			if (usb_usb_core_tx_nrzi_i_valid) begin
				triendpointinterface_txnrziencoder_next_state <= 3'd5;
			end
		end
		3'd5: begin
			usb_usb_core_tx_nrzi_usbp <= 1'd1;
			usb_usb_core_tx_nrzi_usbn <= 1'd0;
			usb_usb_core_tx_nrzi_oe0 <= 1'd1;
			if (usb_usb_core_tx_nrzi_i_valid) begin
				triendpointinterface_txnrziencoder_next_state <= 1'd0;
			end
		end
		default: begin
			usb_usb_core_tx_nrzi_usbp <= 1'd1;
			usb_usb_core_tx_nrzi_usbn <= 1'd0;
			usb_usb_core_tx_nrzi_oe0 <= 1'd0;
			if (usb_usb_core_tx_nrzi_i_valid) begin
				if (usb_usb_core_tx_nrzi_i_oe) begin
					triendpointinterface_txnrziencoder_next_state <= 2'd2;
				end
			end
		end
	endcase
end
assign usb_usb_core_txstate_i_data_payload1 = usb_usb_core_txstate_i_data_payload0;
assign usb_usb_core_txstate_reset = usb_usb_core_txstate_is_ongoing0;
always @(*) begin
	usb_usb_core_txstate_i_data_strobe <= 1'd0;
	if (usb_usb_core_txstate_is_ongoing1) begin
		usb_usb_core_txstate_i_data_strobe <= usb_usb_core_tx_o_data_strobe;
	end
end
always @(*) begin
	usb_usb_core_tx_i_data_payload <= 8'd0;
	usb_usb_core_txstate_o_pkt_end <= 1'd0;
	usb_usb_core_txstate_o_data_ack <= 1'd0;
	triendpointinterface_txpacketsend_next_state <= 4'd0;
	usb_usb_core_txstate_is_ongoing0 <= 1'd0;
	usb_usb_core_tx_i_oe_txpacketsend_next_value0 <= 1'd0;
	usb_usb_core_txstate_is_ongoing1 <= 1'd0;
	usb_usb_core_tx_i_oe_txpacketsend_next_value_ce0 <= 1'd0;
	usb_usb_core_txstate_pid_txpacketsend_next_value1 <= 4'd0;
	usb_usb_core_txstate_pid_txpacketsend_next_value_ce1 <= 1'd0;
	triendpointinterface_txpacketsend_next_state <= triendpointinterface_txpacketsend_state;
	case (triendpointinterface_txpacketsend_state)
		1'd1: begin
			usb_usb_core_txstate_pid_txpacketsend_next_value1 <= usb_usb_core_txstate_i_pid;
			usb_usb_core_txstate_pid_txpacketsend_next_value_ce1 <= 1'd1;
			usb_usb_core_tx_i_data_payload <= 1'd1;
			if (usb_usb_core_tx_o_data_strobe) begin
				triendpointinterface_txpacketsend_next_state <= 2'd2;
			end
		end
		2'd2: begin
			usb_usb_core_tx_i_data_payload <= {(usb_usb_core_txstate_pid ^ 4'd15), usb_usb_core_txstate_pid};
			if (usb_usb_core_tx_o_data_strobe) begin
				if (((usb_usb_core_txstate_pid & 2'd3) == 2'd2)) begin
					triendpointinterface_txpacketsend_next_state <= 3'd7;
				end else begin
					if (((usb_usb_core_txstate_pid & 2'd3) == 2'd3)) begin
						triendpointinterface_txpacketsend_next_state <= 2'd3;
					end else begin
						triendpointinterface_txpacketsend_next_state <= 4'd8;
					end
				end
			end
			usb_usb_core_txstate_is_ongoing0 <= 1'd1;
		end
		2'd3: begin
			if ((~usb_usb_core_txstate_i_data_ready)) begin
				triendpointinterface_txpacketsend_next_state <= 3'd5;
			end else begin
				triendpointinterface_txpacketsend_next_state <= 3'd4;
			end
		end
		3'd4: begin
			usb_usb_core_tx_i_data_payload <= usb_usb_core_txstate_i_data_payload0;
			usb_usb_core_txstate_o_data_ack <= usb_usb_core_tx_o_data_strobe;
			if ((~usb_usb_core_txstate_i_data_ready)) begin
				triendpointinterface_txpacketsend_next_state <= 3'd5;
			end
			usb_usb_core_txstate_is_ongoing1 <= 1'd1;
		end
		3'd5: begin
			usb_usb_core_tx_i_data_payload <= usb_usb_core_txstate_o_crc[7:0];
			if (usb_usb_core_tx_o_data_strobe) begin
				triendpointinterface_txpacketsend_next_state <= 3'd6;
			end
		end
		3'd6: begin
			usb_usb_core_tx_i_data_payload <= usb_usb_core_txstate_o_crc[15:8];
			if (usb_usb_core_tx_o_data_strobe) begin
				triendpointinterface_txpacketsend_next_state <= 3'd7;
			end
		end
		3'd7: begin
			usb_usb_core_tx_i_oe_txpacketsend_next_value0 <= 1'd0;
			usb_usb_core_tx_i_oe_txpacketsend_next_value_ce0 <= 1'd1;
			if ((~usb_usb_core_txstate_o_oe12)) begin
				usb_usb_core_txstate_o_pkt_end <= 1'd1;
				triendpointinterface_txpacketsend_next_state <= 1'd0;
			end
		end
		default: begin
			usb_usb_core_tx_i_oe_txpacketsend_next_value0 <= usb_usb_core_txstate_i_pkt_start;
			usb_usb_core_tx_i_oe_txpacketsend_next_value_ce0 <= 1'd1;
			if (usb_usb_core_txstate_i_pkt_start) begin
				triendpointinterface_txpacketsend_next_state <= 1'd1;
			end else begin
				usb_usb_core_tx_i_oe_txpacketsend_next_value0 <= 1'd0;
				usb_usb_core_tx_i_oe_txpacketsend_next_value_ce0 <= 1'd1;
			end
		end
	endcase
end
assign usb_usb_core_txstate_crc_dat = {usb_usb_core_txstate_i_data_payload1[0], usb_usb_core_txstate_i_data_payload1[1], usb_usb_core_txstate_i_data_payload1[2], usb_usb_core_txstate_i_data_payload1[3], usb_usb_core_txstate_i_data_payload1[4], usb_usb_core_txstate_i_data_payload1[5], usb_usb_core_txstate_i_data_payload1[6], usb_usb_core_txstate_i_data_payload1[7]};
assign usb_usb_core_txstate_o_crc = ({usb_usb_core_txstate_crc_cur[0], usb_usb_core_txstate_crc_cur[1], usb_usb_core_txstate_crc_cur[2], usb_usb_core_txstate_crc_cur[3], usb_usb_core_txstate_crc_cur[4], usb_usb_core_txstate_crc_cur[5], usb_usb_core_txstate_crc_cur[6], usb_usb_core_txstate_crc_cur[7], usb_usb_core_txstate_crc_cur[8], usb_usb_core_txstate_crc_cur[9], usb_usb_core_txstate_crc_cur[10], usb_usb_core_txstate_crc_cur[11], usb_usb_core_txstate_crc_cur[12], usb_usb_core_txstate_crc_cur[13], usb_usb_core_txstate_crc_cur[14], usb_usb_core_txstate_crc_cur[15]} ^ 16'd65535);
always @(*) begin
	usb_usb_core_txstate_crc_next <= 16'd64770;
	usb_usb_core_txstate_crc_next[0] <= (((((((((((((((usb_usb_core_txstate_crc_dat[0] ^ usb_usb_core_txstate_crc_dat[1]) ^ usb_usb_core_txstate_crc_dat[2]) ^ usb_usb_core_txstate_crc_dat[3]) ^ usb_usb_core_txstate_crc_dat[4]) ^ usb_usb_core_txstate_crc_dat[5]) ^ usb_usb_core_txstate_crc_dat[6]) ^ usb_usb_core_txstate_crc_dat[7]) ^ usb_usb_core_txstate_crc_cur[8]) ^ usb_usb_core_txstate_crc_cur[9]) ^ usb_usb_core_txstate_crc_cur[10]) ^ usb_usb_core_txstate_crc_cur[11]) ^ usb_usb_core_txstate_crc_cur[12]) ^ usb_usb_core_txstate_crc_cur[13]) ^ usb_usb_core_txstate_crc_cur[14]) ^ usb_usb_core_txstate_crc_cur[15]);
	usb_usb_core_txstate_crc_next[1] <= (((((((((((((usb_usb_core_txstate_crc_dat[1] ^ usb_usb_core_txstate_crc_dat[2]) ^ usb_usb_core_txstate_crc_dat[3]) ^ usb_usb_core_txstate_crc_dat[4]) ^ usb_usb_core_txstate_crc_dat[5]) ^ usb_usb_core_txstate_crc_dat[6]) ^ usb_usb_core_txstate_crc_dat[7]) ^ usb_usb_core_txstate_crc_cur[9]) ^ usb_usb_core_txstate_crc_cur[10]) ^ usb_usb_core_txstate_crc_cur[11]) ^ usb_usb_core_txstate_crc_cur[12]) ^ usb_usb_core_txstate_crc_cur[13]) ^ usb_usb_core_txstate_crc_cur[14]) ^ usb_usb_core_txstate_crc_cur[15]);
	usb_usb_core_txstate_crc_next[2] <= (((usb_usb_core_txstate_crc_dat[0] ^ usb_usb_core_txstate_crc_dat[1]) ^ usb_usb_core_txstate_crc_cur[8]) ^ usb_usb_core_txstate_crc_cur[9]);
	usb_usb_core_txstate_crc_next[3] <= (((usb_usb_core_txstate_crc_dat[1] ^ usb_usb_core_txstate_crc_dat[2]) ^ usb_usb_core_txstate_crc_cur[9]) ^ usb_usb_core_txstate_crc_cur[10]);
	usb_usb_core_txstate_crc_next[4] <= (((usb_usb_core_txstate_crc_dat[2] ^ usb_usb_core_txstate_crc_dat[3]) ^ usb_usb_core_txstate_crc_cur[10]) ^ usb_usb_core_txstate_crc_cur[11]);
	usb_usb_core_txstate_crc_next[5] <= (((usb_usb_core_txstate_crc_dat[3] ^ usb_usb_core_txstate_crc_dat[4]) ^ usb_usb_core_txstate_crc_cur[11]) ^ usb_usb_core_txstate_crc_cur[12]);
	usb_usb_core_txstate_crc_next[6] <= (((usb_usb_core_txstate_crc_dat[4] ^ usb_usb_core_txstate_crc_dat[5]) ^ usb_usb_core_txstate_crc_cur[12]) ^ usb_usb_core_txstate_crc_cur[13]);
	usb_usb_core_txstate_crc_next[7] <= (((usb_usb_core_txstate_crc_dat[5] ^ usb_usb_core_txstate_crc_dat[6]) ^ usb_usb_core_txstate_crc_cur[13]) ^ usb_usb_core_txstate_crc_cur[14]);
	usb_usb_core_txstate_crc_next[8] <= ((((usb_usb_core_txstate_crc_dat[6] ^ usb_usb_core_txstate_crc_dat[7]) ^ usb_usb_core_txstate_crc_cur[0]) ^ usb_usb_core_txstate_crc_cur[14]) ^ usb_usb_core_txstate_crc_cur[15]);
	usb_usb_core_txstate_crc_next[9] <= ((usb_usb_core_txstate_crc_dat[7] ^ usb_usb_core_txstate_crc_cur[1]) ^ usb_usb_core_txstate_crc_cur[15]);
	usb_usb_core_txstate_crc_next[10] <= usb_usb_core_txstate_crc_cur[2];
	usb_usb_core_txstate_crc_next[11] <= usb_usb_core_txstate_crc_cur[3];
	usb_usb_core_txstate_crc_next[12] <= usb_usb_core_txstate_crc_cur[4];
	usb_usb_core_txstate_crc_next[13] <= usb_usb_core_txstate_crc_cur[5];
	usb_usb_core_txstate_crc_next[14] <= usb_usb_core_txstate_crc_cur[6];
	usb_usb_core_txstate_crc_next[15] <= ((((((((((((((((usb_usb_core_txstate_crc_dat[0] ^ usb_usb_core_txstate_crc_dat[1]) ^ usb_usb_core_txstate_crc_dat[2]) ^ usb_usb_core_txstate_crc_dat[3]) ^ usb_usb_core_txstate_crc_dat[4]) ^ usb_usb_core_txstate_crc_dat[5]) ^ usb_usb_core_txstate_crc_dat[6]) ^ usb_usb_core_txstate_crc_dat[7]) ^ usb_usb_core_txstate_crc_cur[7]) ^ usb_usb_core_txstate_crc_cur[8]) ^ usb_usb_core_txstate_crc_cur[9]) ^ usb_usb_core_txstate_crc_cur[10]) ^ usb_usb_core_txstate_crc_cur[11]) ^ usb_usb_core_txstate_crc_cur[12]) ^ usb_usb_core_txstate_crc_cur[13]) ^ usb_usb_core_txstate_crc_cur[14]) ^ usb_usb_core_txstate_crc_cur[15]);
end
assign usb_usb_core_rx_o_bit_strobe = usb_usb_core_rx_line_state_valid;
assign usb_usb_core_rx_o_reset = usb_usb_core_rx_reset_counter[6];
assign usb_usb_core_rx_nrzi_i_valid = usb_usb_core_rx_o_bit_strobe;
assign usb_usb_core_rx_nrzi_i_dj = usb_usb_core_rx_line_state_dj1;
assign usb_usb_core_rx_nrzi_i_dk = usb_usb_core_rx_line_state_dk1;
assign usb_usb_core_rx_nrzi_i_se0 = usb_usb_core_rx_line_state_se01;
assign usb_usb_core_rx_detect_reset = usb_usb_core_rx_reset0;
assign usb_usb_core_rx_detect_i_valid = usb_usb_core_rx_nrzi_o_valid;
assign usb_usb_core_rx_detect_i_se0 = usb_usb_core_rx_nrzi_o_se0;
assign usb_usb_core_rx_detect_i_data = usb_usb_core_rx_nrzi_o_data;
assign usb_usb_core_rx_reset1 = (~usb_usb_core_rx_detect_o_pkt_active);
assign usb_usb_core_rx_bitstuff_reset = ((~usb_usb_core_rx_detect_o_pkt_active) | usb_usb_core_rx_reset0);
assign usb_usb_core_rx_bitstuff_i_valid = usb_usb_core_rx_nrzi_o_valid;
assign usb_usb_core_rx_bitstuff_i_data = usb_usb_core_rx_nrzi_o_data;
assign usb_usb_core_rx_shifter_reset = usb_usb_core_rx_last_reset;
assign usb_usb_core_rx_shifter_i_data = usb_usb_core_rx_bitstuff_o_data;
assign usb_usb_core_rx_shifter_i_valid = ((~usb_usb_core_rx_bitstuff_o_stall) & usb_usb_core_rx_detect_o_pkt_active);
assign usb_usb_core_rx_payloadFifo_asyncfifo_din = {usb_usb_core_rx_shifter_o_data[0], usb_usb_core_rx_shifter_o_data[1], usb_usb_core_rx_shifter_o_data[2], usb_usb_core_rx_shifter_o_data[3], usb_usb_core_rx_shifter_o_data[4], usb_usb_core_rx_shifter_o_data[5], usb_usb_core_rx_shifter_o_data[6], usb_usb_core_rx_shifter_o_data[7]};
assign usb_usb_core_rx_payloadFifo_asyncfifo_we = usb_usb_core_rx_shifter_o_put;
assign usb_usb_core_rx_o_data_payload = usb_usb_core_rx_payloadFifo_asyncfifo_dout;
assign usb_usb_core_rx_o_data_strobe = usb_usb_core_rx_payloadFifo_asyncfifo_readable;
assign usb_usb_core_rx_payloadFifo_asyncfifo_re = 1'd1;
always @(*) begin
	usb_usb_core_rx_flagsFifo_asyncfifo_din <= 2'd0;
	usb_usb_core_rx_flagsFifo_asyncfifo_din[1] <= usb_usb_core_rx_detect_o_pkt_start;
	usb_usb_core_rx_flagsFifo_asyncfifo_din[0] <= usb_usb_core_rx_detect_o_pkt_end;
end
assign usb_usb_core_rx_flagsFifo_asyncfifo_we = (usb_usb_core_rx_detect_o_pkt_start | usb_usb_core_rx_detect_o_pkt_end);
assign usb_usb_core_rx_flag_start = usb_usb_core_rx_flagsFifo_asyncfifo_dout[1];
assign usb_usb_core_rx_flag_end = usb_usb_core_rx_flagsFifo_asyncfifo_dout[0];
assign usb_usb_core_rx_flag_valid = usb_usb_core_rx_flagsFifo_asyncfifo_readable;
assign usb_usb_core_rx_flagsFifo_asyncfifo_re = 1'd1;
assign usb_usb_core_rx_o_pkt_start = (usb_usb_core_rx_flag_start & usb_usb_core_rx_flag_valid);
assign usb_usb_core_rx_o_pkt_end = (usb_usb_core_rx_flag_end & usb_usb_core_rx_flag_valid);
assign usb_usb_core_rx_dpair = {usb_usb_core_rx_i_usbp, usb_usb_core_rx_i_usbn};
always @(*) begin
	usb_usb_core_rx_line_state_dt <= 1'd0;
	usb_usb_core_rx_line_state_dj0 <= 1'd0;
	triendpointinterface_rxpipeline_next_state <= 3'd0;
	usb_usb_core_rx_line_state_dk0 <= 1'd0;
	usb_usb_core_rx_line_state_se00 <= 1'd0;
	usb_usb_core_rx_line_state_se10 <= 1'd0;
	triendpointinterface_rxpipeline_next_state <= triendpointinterface_rxpipeline_state;
	case (triendpointinterface_rxpipeline_state)
		1'd1: begin
			usb_usb_core_rx_line_state_dj0 <= 1'd1;
			if ((usb_usb_core_rx_dpair != 2'd2)) begin
				triendpointinterface_rxpipeline_next_state <= 1'd0;
			end
		end
		2'd2: begin
			usb_usb_core_rx_line_state_dk0 <= 1'd1;
			if ((usb_usb_core_rx_dpair != 1'd1)) begin
				triendpointinterface_rxpipeline_next_state <= 1'd0;
			end
		end
		2'd3: begin
			usb_usb_core_rx_line_state_se00 <= 1'd1;
			if ((usb_usb_core_rx_dpair != 1'd0)) begin
				triendpointinterface_rxpipeline_next_state <= 1'd0;
			end
		end
		3'd4: begin
			usb_usb_core_rx_line_state_se10 <= 1'd1;
			if ((usb_usb_core_rx_dpair != 2'd3)) begin
				triendpointinterface_rxpipeline_next_state <= 1'd0;
			end
		end
		default: begin
			usb_usb_core_rx_line_state_dt <= 1'd1;
			case (usb_usb_core_rx_dpair)
				1'd0: begin
					triendpointinterface_rxpipeline_next_state <= 2'd3;
				end
				1'd1: begin
					triendpointinterface_rxpipeline_next_state <= 2'd2;
				end
				2'd2: begin
					triendpointinterface_rxpipeline_next_state <= 1'd1;
				end
				2'd3: begin
					triendpointinterface_rxpipeline_next_state <= 3'd4;
				end
			endcase
		end
	endcase
end
assign usb_usb_core_rx_detect_o_pkt_start = usb_usb_core_rx_detect_pkt_start;
assign usb_usb_core_rx_detect_o_pkt_active = usb_usb_core_rx_detect_pkt_active;
assign usb_usb_core_rx_detect_o_pkt_end = usb_usb_core_rx_detect_pkt_end;
always @(*) begin
	usb_usb_core_rx_detect_pkt_start <= 1'd0;
	usb_usb_core_rx_detect_pkt_active <= 1'd0;
	usb_usb_core_rx_detect_pkt_end <= 1'd0;
	triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 3'd0;
	triendpointinterface_rxpipeline_rxpacketdetect_next_state <= triendpointinterface_rxpipeline_rxpacketdetect_state;
	case (triendpointinterface_rxpipeline_rxpacketdetect_state)
		1'd1: begin
			if (usb_usb_core_rx_detect_i_valid) begin
				if ((usb_usb_core_rx_detect_i_data | usb_usb_core_rx_detect_i_se0)) begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 1'd0;
				end else begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 2'd2;
				end
			end
		end
		2'd2: begin
			if (usb_usb_core_rx_detect_i_valid) begin
				if ((usb_usb_core_rx_detect_i_data | usb_usb_core_rx_detect_i_se0)) begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 1'd0;
				end else begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 2'd3;
				end
			end
		end
		2'd3: begin
			if (usb_usb_core_rx_detect_i_valid) begin
				if ((usb_usb_core_rx_detect_i_data | usb_usb_core_rx_detect_i_se0)) begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 1'd0;
				end else begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 3'd4;
				end
			end
		end
		3'd4: begin
			if (usb_usb_core_rx_detect_i_valid) begin
				if ((usb_usb_core_rx_detect_i_data | usb_usb_core_rx_detect_i_se0)) begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 1'd0;
				end else begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 3'd5;
				end
			end
		end
		3'd5: begin
			if (usb_usb_core_rx_detect_i_valid) begin
				if (usb_usb_core_rx_detect_i_se0) begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 1'd0;
				end else begin
					if (usb_usb_core_rx_detect_i_data) begin
						usb_usb_core_rx_detect_pkt_start <= 1'd1;
						triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 3'd6;
					end
				end
			end
		end
		3'd6: begin
			usb_usb_core_rx_detect_pkt_active <= 1'd1;
			if ((usb_usb_core_rx_detect_i_valid & usb_usb_core_rx_detect_i_se0)) begin
				triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 1'd0;
				usb_usb_core_rx_detect_pkt_active <= 1'd0;
				usb_usb_core_rx_detect_pkt_end <= 1'd1;
			end
		end
		default: begin
			if (usb_usb_core_rx_detect_i_valid) begin
				if ((usb_usb_core_rx_detect_i_data | usb_usb_core_rx_detect_i_se0)) begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 1'd0;
				end else begin
					triendpointinterface_rxpipeline_rxpacketdetect_next_state <= 1'd1;
				end
			end
		end
	endcase
end
always @(*) begin
	usb_usb_core_rx_bitstuff_drop_bit <= 1'd0;
	triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 3'd0;
	triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= triendpointinterface_rxpipeline_rxbitstuffremover_state;
	case (triendpointinterface_rxpipeline_rxbitstuffremover_state)
		1'd1: begin
			if (usb_usb_core_rx_bitstuff_i_valid) begin
				if (usb_usb_core_rx_bitstuff_i_data) begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 2'd2;
				end else begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 1'd0;
				end
			end
		end
		2'd2: begin
			if (usb_usb_core_rx_bitstuff_i_valid) begin
				if (usb_usb_core_rx_bitstuff_i_data) begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 2'd3;
				end else begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 1'd0;
				end
			end
		end
		2'd3: begin
			if (usb_usb_core_rx_bitstuff_i_valid) begin
				if (usb_usb_core_rx_bitstuff_i_data) begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 3'd4;
				end else begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 1'd0;
				end
			end
		end
		3'd4: begin
			if (usb_usb_core_rx_bitstuff_i_valid) begin
				if (usb_usb_core_rx_bitstuff_i_data) begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 3'd5;
				end else begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 1'd0;
				end
			end
		end
		3'd5: begin
			if (usb_usb_core_rx_bitstuff_i_valid) begin
				if (usb_usb_core_rx_bitstuff_i_data) begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 3'd6;
				end else begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 1'd0;
				end
			end
		end
		3'd6: begin
			if (usb_usb_core_rx_bitstuff_i_valid) begin
				usb_usb_core_rx_bitstuff_drop_bit <= 1'd1;
				triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 1'd0;
			end
		end
		default: begin
			if (usb_usb_core_rx_bitstuff_i_valid) begin
				if (usb_usb_core_rx_bitstuff_i_data) begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 1'd1;
				end else begin
					triendpointinterface_rxpipeline_rxbitstuffremover_next_state <= 1'd0;
				end
			end
		end
	endcase
end
assign usb_usb_core_rx_shifter_o_data = usb_usb_core_rx_shifter_shift_reg[7:0];
assign usb_usb_core_rx_payloadFifo_graycounter0_ce = (usb_usb_core_rx_payloadFifo_asyncfifo_writable & usb_usb_core_rx_payloadFifo_asyncfifo_we);
assign usb_usb_core_rx_payloadFifo_graycounter1_ce = (usb_usb_core_rx_payloadFifo_asyncfifo_readable & usb_usb_core_rx_payloadFifo_asyncfifo_re);
assign usb_usb_core_rx_payloadFifo_asyncfifo_writable = ((usb_usb_core_rx_payloadFifo_graycounter0_q[1] == usb_usb_core_rx_payloadFifo_consume_wdomain[1]) | (usb_usb_core_rx_payloadFifo_graycounter0_q[0] == usb_usb_core_rx_payloadFifo_consume_wdomain[0]));
assign usb_usb_core_rx_payloadFifo_asyncfifo_readable = (usb_usb_core_rx_payloadFifo_graycounter1_q != usb_usb_core_rx_payloadFifo_produce_rdomain);
assign usb_usb_core_rx_payloadFifo_wrport_adr = usb_usb_core_rx_payloadFifo_graycounter0_q_binary[0];
assign usb_usb_core_rx_payloadFifo_wrport_dat_w = usb_usb_core_rx_payloadFifo_asyncfifo_din;
assign usb_usb_core_rx_payloadFifo_wrport_we = usb_usb_core_rx_payloadFifo_graycounter0_ce;
assign usb_usb_core_rx_payloadFifo_rdport_adr = usb_usb_core_rx_payloadFifo_graycounter1_q_next_binary[0];
assign usb_usb_core_rx_payloadFifo_asyncfifo_dout = usb_usb_core_rx_payloadFifo_rdport_dat_r;
always @(*) begin
	usb_usb_core_rx_payloadFifo_graycounter0_q_next_binary <= 2'd0;
	if (usb_usb_core_rx_payloadFifo_graycounter0_ce) begin
		usb_usb_core_rx_payloadFifo_graycounter0_q_next_binary <= (usb_usb_core_rx_payloadFifo_graycounter0_q_binary + 1'd1);
	end else begin
		usb_usb_core_rx_payloadFifo_graycounter0_q_next_binary <= usb_usb_core_rx_payloadFifo_graycounter0_q_binary;
	end
end
assign usb_usb_core_rx_payloadFifo_graycounter0_q_next = (usb_usb_core_rx_payloadFifo_graycounter0_q_next_binary ^ usb_usb_core_rx_payloadFifo_graycounter0_q_next_binary[1]);
always @(*) begin
	usb_usb_core_rx_payloadFifo_graycounter1_q_next_binary <= 2'd0;
	if (usb_usb_core_rx_payloadFifo_graycounter1_ce) begin
		usb_usb_core_rx_payloadFifo_graycounter1_q_next_binary <= (usb_usb_core_rx_payloadFifo_graycounter1_q_binary + 1'd1);
	end else begin
		usb_usb_core_rx_payloadFifo_graycounter1_q_next_binary <= usb_usb_core_rx_payloadFifo_graycounter1_q_binary;
	end
end
assign usb_usb_core_rx_payloadFifo_graycounter1_q_next = (usb_usb_core_rx_payloadFifo_graycounter1_q_next_binary ^ usb_usb_core_rx_payloadFifo_graycounter1_q_next_binary[1]);
assign usb_usb_core_rx_flagsFifo_graycounter0_ce = (usb_usb_core_rx_flagsFifo_asyncfifo_writable & usb_usb_core_rx_flagsFifo_asyncfifo_we);
assign usb_usb_core_rx_flagsFifo_graycounter1_ce = (usb_usb_core_rx_flagsFifo_asyncfifo_readable & usb_usb_core_rx_flagsFifo_asyncfifo_re);
assign usb_usb_core_rx_flagsFifo_asyncfifo_writable = ((usb_usb_core_rx_flagsFifo_graycounter0_q[1] == usb_usb_core_rx_flagsFifo_consume_wdomain[1]) | (usb_usb_core_rx_flagsFifo_graycounter0_q[0] == usb_usb_core_rx_flagsFifo_consume_wdomain[0]));
assign usb_usb_core_rx_flagsFifo_asyncfifo_readable = (usb_usb_core_rx_flagsFifo_graycounter1_q != usb_usb_core_rx_flagsFifo_produce_rdomain);
assign usb_usb_core_rx_flagsFifo_wrport_adr = usb_usb_core_rx_flagsFifo_graycounter0_q_binary[0];
assign usb_usb_core_rx_flagsFifo_wrport_dat_w = usb_usb_core_rx_flagsFifo_asyncfifo_din;
assign usb_usb_core_rx_flagsFifo_wrport_we = usb_usb_core_rx_flagsFifo_graycounter0_ce;
assign usb_usb_core_rx_flagsFifo_rdport_adr = usb_usb_core_rx_flagsFifo_graycounter1_q_next_binary[0];
assign usb_usb_core_rx_flagsFifo_asyncfifo_dout = usb_usb_core_rx_flagsFifo_rdport_dat_r;
always @(*) begin
	usb_usb_core_rx_flagsFifo_graycounter0_q_next_binary <= 2'd0;
	if (usb_usb_core_rx_flagsFifo_graycounter0_ce) begin
		usb_usb_core_rx_flagsFifo_graycounter0_q_next_binary <= (usb_usb_core_rx_flagsFifo_graycounter0_q_binary + 1'd1);
	end else begin
		usb_usb_core_rx_flagsFifo_graycounter0_q_next_binary <= usb_usb_core_rx_flagsFifo_graycounter0_q_binary;
	end
end
assign usb_usb_core_rx_flagsFifo_graycounter0_q_next = (usb_usb_core_rx_flagsFifo_graycounter0_q_next_binary ^ usb_usb_core_rx_flagsFifo_graycounter0_q_next_binary[1]);
always @(*) begin
	usb_usb_core_rx_flagsFifo_graycounter1_q_next_binary <= 2'd0;
	if (usb_usb_core_rx_flagsFifo_graycounter1_ce) begin
		usb_usb_core_rx_flagsFifo_graycounter1_q_next_binary <= (usb_usb_core_rx_flagsFifo_graycounter1_q_binary + 1'd1);
	end else begin
		usb_usb_core_rx_flagsFifo_graycounter1_q_next_binary <= usb_usb_core_rx_flagsFifo_graycounter1_q_binary;
	end
end
assign usb_usb_core_rx_flagsFifo_graycounter1_q_next = (usb_usb_core_rx_flagsFifo_graycounter1_q_next_binary ^ usb_usb_core_rx_flagsFifo_graycounter1_q_next_binary[1]);
always @(*) begin
	triendpointinterface_packetheaderdecode_next_value <= 7'd0;
	triendpointinterface_packetheaderdecode_next_value_ce <= 1'd0;
	usb_usb_core_o_decoded <= 1'd0;
	usb_usb_core_endp4_packetheaderdecode_next_value1 <= 1'd0;
	usb_usb_core_endp4_packetheaderdecode_next_value_ce1 <= 1'd0;
	usb_usb_core_o_endp_packetheaderdecode_next_value2 <= 4'd0;
	usb_usb_core_o_endp_packetheaderdecode_next_value_ce2 <= 1'd0;
	usb_usb_core_crc5_packetheaderdecode_next_value3 <= 5'd0;
	usb_usb_core_crc5_packetheaderdecode_next_value_ce3 <= 1'd0;
	triendpointinterface_packetheaderdecode_next_state <= 3'd0;
	usb_usb_core_o_pid_packetheaderdecode_next_value0 <= 4'd0;
	usb_usb_core_o_pid_packetheaderdecode_next_value_ce0 <= 1'd0;
	triendpointinterface_packetheaderdecode_next_state <= triendpointinterface_packetheaderdecode_state;
	case (triendpointinterface_packetheaderdecode_state)
		1'd1: begin
			if (usb_usb_core_rx_o_data_strobe) begin
				usb_usb_core_o_pid_packetheaderdecode_next_value0 <= usb_usb_core_rx_o_data_payload[3:0];
				usb_usb_core_o_pid_packetheaderdecode_next_value_ce0 <= 1'd1;
				case ((usb_usb_core_rx_o_data_payload[3:0] & 2'd3))
					1'd1: begin
						triendpointinterface_packetheaderdecode_next_state <= 2'd2;
					end
					2'd2: begin
						triendpointinterface_packetheaderdecode_next_state <= 3'd4;
					end
					2'd3: begin
						triendpointinterface_packetheaderdecode_next_state <= 3'd4;
					end
				endcase
			end
		end
		2'd2: begin
			if (usb_usb_core_rx_o_data_strobe) begin
				triendpointinterface_packetheaderdecode_next_value <= usb_usb_core_rx_o_data_payload[6:0];
				triendpointinterface_packetheaderdecode_next_value_ce <= 1'd1;
				usb_usb_core_endp4_packetheaderdecode_next_value1 <= usb_usb_core_rx_o_data_payload[7];
				usb_usb_core_endp4_packetheaderdecode_next_value_ce1 <= 1'd1;
				triendpointinterface_packetheaderdecode_next_state <= 2'd3;
			end
		end
		2'd3: begin
			if (usb_usb_core_rx_o_data_strobe) begin
				usb_usb_core_o_endp_packetheaderdecode_next_value2 <= {usb_usb_core_rx_o_data_payload[2:0], usb_usb_core_endp4};
				usb_usb_core_o_endp_packetheaderdecode_next_value_ce2 <= 1'd1;
				usb_usb_core_crc5_packetheaderdecode_next_value3 <= usb_usb_core_rx_o_data_payload[7:4];
				usb_usb_core_crc5_packetheaderdecode_next_value_ce3 <= 1'd1;
				triendpointinterface_packetheaderdecode_next_state <= 3'd4;
			end
		end
		3'd4: begin
			usb_usb_core_o_decoded <= 1'd1;
			triendpointinterface_packetheaderdecode_next_state <= 1'd0;
		end
		default: begin
			if (usb_usb_core_rx_o_pkt_start) begin
				triendpointinterface_packetheaderdecode_next_state <= 1'd1;
			end
		end
	endcase
end
assign usb_usb_core_is_el0 = ((~(triendpointinterface_clockdomainsrenamer_state == 3'd6)) & (triendpointinterface_clockdomainsrenamer_next_state == 3'd6));
assign usb_usb_core_is_el1 = ((~(triendpointinterface_clockdomainsrenamer_state == 4'd8)) & (triendpointinterface_clockdomainsrenamer_next_state == 4'd8));
always @(*) begin
	usb_usb_core_data_end <= 1'd0;
	usb_usb_core_response_pid_t_next_value <= 4'd0;
	usb_usb_core_error <= 1'd0;
	usb_usb_core_response_pid_t_next_value_ce <= 1'd0;
	usb_usb_core_data_recv_put <= 1'd0;
	usb_usb_core_data_send_get <= 1'd0;
	usb_usb_core_txstate_i_pkt_start <= 1'd0;
	usb_usb_core_txstate_i_pid <= 4'd0;
	triendpointinterface_clockdomainsrenamer_next_state <= 4'd0;
	usb_usb_core_idle <= 1'd0;
	usb_usb_core_start <= 1'd0;
	usb_usb_core_endp_f_next_value1 <= 4'd0;
	usb_usb_core_poll <= 1'd0;
	usb_usb_core_tok_f_next_value0 <= 4'd0;
	usb_usb_core_setup <= 1'd0;
	usb_usb_core_tok_f_next_value_ce0 <= 1'd0;
	usb_usb_core_commit <= 1'd0;
	usb_usb_core_retry <= 1'd0;
	usb_usb_core_endp_f_next_value_ce1 <= 1'd0;
	usb_usb_core_abort <= 1'd0;
	if (usb_usb_core_is_el0) begin
		if (usb_usb_core_dtb) begin
			usb_usb_core_txstate_i_pid <= 4'd11;
		end else begin
			usb_usb_core_txstate_i_pid <= 2'd3;
		end
		usb_usb_core_txstate_i_pkt_start <= 1'd1;
	end
	if (usb_usb_core_is_el1) begin
		usb_usb_core_txstate_i_pid <= usb_usb_core_response_pid;
		usb_usb_core_txstate_i_pkt_start <= 1'd1;
	end
	triendpointinterface_clockdomainsrenamer_next_state <= triendpointinterface_clockdomainsrenamer_state;
	case (triendpointinterface_clockdomainsrenamer_state)
		1'd0: begin
			usb_usb_core_error <= 1'd1;
		end
		2'd2: begin
			usb_usb_core_idle <= 1'd0;
			if (usb_usb_core_o_decoded) begin
				if ((usb_usb_core_o_addr != usb_usb_core_addr)) begin
					triendpointinterface_clockdomainsrenamer_next_state <= 1'd1;
				end else begin
					usb_usb_core_start <= 1'd1;
					usb_usb_core_tok_f_next_value0 <= usb_usb_core_o_pid;
					usb_usb_core_tok_f_next_value_ce0 <= 1'd1;
					usb_usb_core_endp_f_next_value1 <= usb_usb_core_o_endp;
					usb_usb_core_endp_f_next_value_ce1 <= 1'd1;
					triendpointinterface_clockdomainsrenamer_next_state <= 2'd3;
				end
			end
		end
		2'd3: begin
			usb_usb_core_poll <= 1'd1;
			if (usb_usb_core_rdy) begin
				if ((usb_usb_core_tok == 4'd13)) begin
					usb_usb_core_response_pid_t_next_value <= 2'd2;
					usb_usb_core_response_pid_t_next_value_ce <= 1'd1;
				end else begin
					if (usb_usb_core_sta) begin
						usb_usb_core_response_pid_t_next_value <= 4'd14;
						usb_usb_core_response_pid_t_next_value_ce <= 1'd1;
					end else begin
						if (usb_usb_core_arm) begin
							usb_usb_core_response_pid_t_next_value <= 2'd2;
							usb_usb_core_response_pid_t_next_value_ce <= 1'd1;
						end else begin
							usb_usb_core_response_pid_t_next_value <= 4'd10;
							usb_usb_core_response_pid_t_next_value_ce <= 1'd1;
						end
					end
				end
				if ((usb_usb_core_o_pid == 3'd5)) begin
					triendpointinterface_clockdomainsrenamer_next_state <= 1'd1;
				end else begin
					if ((usb_usb_core_tok == 4'd13)) begin
						triendpointinterface_clockdomainsrenamer_next_state <= 3'd4;
					end else begin
						if ((usb_usb_core_tok == 1'd1)) begin
							triendpointinterface_clockdomainsrenamer_next_state <= 3'd4;
						end else begin
							if ((usb_usb_core_tok == 4'd9)) begin
								if (((~usb_usb_core_arm) | usb_usb_core_sta)) begin
									triendpointinterface_clockdomainsrenamer_next_state <= 4'd8;
								end else begin
									triendpointinterface_clockdomainsrenamer_next_state <= 3'd6;
								end
							end else begin
								triendpointinterface_clockdomainsrenamer_next_state <= 1'd1;
							end
						end
					end
				end
			end
		end
		3'd4: begin
			if (usb_usb_core_o_decoded) begin
				if (((usb_usb_core_o_pid & 2'd3) == 2'd3)) begin
					triendpointinterface_clockdomainsrenamer_next_state <= 3'd5;
				end else begin
					if ((usb_usb_core_o_pid == 3'd5)) begin
						triendpointinterface_clockdomainsrenamer_next_state <= 3'd4;
					end else begin
						triendpointinterface_clockdomainsrenamer_next_state <= 1'd0;
					end
				end
			end
		end
		3'd5: begin
			if ((usb_usb_core_response_pid == 2'd2)) begin
				usb_usb_core_data_recv_put <= usb_usb_core_rx_o_data_strobe;
			end
			if (usb_usb_core_rx_o_pkt_end) begin
				triendpointinterface_clockdomainsrenamer_next_state <= 4'd8;
			end
		end
		3'd6: begin
			if (usb_usb_core_dtb) begin
				usb_usb_core_txstate_i_pid <= 4'd11;
			end else begin
				usb_usb_core_txstate_i_pid <= 2'd3;
			end
			usb_usb_core_data_send_get <= usb_usb_core_txstate_o_data_ack;
			usb_usb_core_data_end <= usb_usb_core_txstate_o_pkt_end;
			if (usb_usb_core_txstate_o_pkt_end) begin
				triendpointinterface_clockdomainsrenamer_next_state <= 3'd7;
			end
		end
		3'd7: begin
			if (usb_usb_core_o_decoded) begin
				usb_usb_core_commit <= 1'd1;
				if ((usb_usb_core_o_pid == 2'd2)) begin
					triendpointinterface_clockdomainsrenamer_next_state <= 1'd1;
				end else begin
					if ((usb_usb_core_o_pid == 4'd9)) begin
						usb_usb_core_retry <= 1'd1;
						triendpointinterface_clockdomainsrenamer_next_state <= 3'd6;
					end else begin
						triendpointinterface_clockdomainsrenamer_next_state <= 1'd0;
					end
				end
			end
		end
		4'd8: begin
			usb_usb_core_txstate_i_pid <= usb_usb_core_response_pid;
			if (usb_usb_core_txstate_o_pkt_end) begin
				usb_usb_core_setup <= (usb_usb_core_tok == 4'd13);
				if ((usb_usb_core_response_pid == 2'd2)) begin
					usb_usb_core_commit <= 1'd1;
				end else begin
					usb_usb_core_abort <= 1'd1;
				end
				triendpointinterface_clockdomainsrenamer_next_state <= 1'd1;
			end
		end
		default: begin
			usb_usb_core_idle <= 1'd1;
			if (usb_usb_core_rx_o_pkt_start) begin
				triendpointinterface_clockdomainsrenamer_next_state <= 2'd2;
			end
		end
	endcase
end
assign usb_iobuf_usb_pullup = usb_pullup_storage;
assign usb_setuphandler_reset_trigger = (~usb_setuphandler_usb_reset);
assign usb_setuphandler_inner_reset = ((usb_setuphandler_reset | usb_setuphandler_begin) | usb_setuphandler_csrfield_reset);
always @(*) begin
	usb_setuphandler_packet_clear <= 1'd0;
	usb_setuphandler_packet_clear <= usb_setuphandler_begin;
	if ((usb_setuphandler_eventmanager_pending_re & usb_setuphandler_eventmanager_pending_r[0])) begin
		usb_setuphandler_packet_clear <= 1'd1;
	end
end
always @(*) begin
	usb_setuphandler_eventmanager_status_w <= 2'd0;
	usb_setuphandler_eventmanager_status_w[0] <= usb_setuphandler_packet_status;
	usb_setuphandler_eventmanager_status_w[1] <= usb_setuphandler_reset_status;
end
always @(*) begin
	usb_setuphandler_reset_clear <= 1'd0;
	if ((usb_setuphandler_eventmanager_pending_re & usb_setuphandler_eventmanager_pending_r[1])) begin
		usb_setuphandler_reset_clear <= 1'd1;
	end
end
always @(*) begin
	usb_setuphandler_eventmanager_pending_w <= 2'd0;
	usb_setuphandler_eventmanager_pending_w[0] <= usb_setuphandler_packet_pending;
	usb_setuphandler_eventmanager_pending_w[1] <= usb_setuphandler_reset_pending;
end
assign usb_setuphandler_irq = ((usb_setuphandler_eventmanager_pending_w[0] & usb_setuphandler_eventmanager_storage[0]) | (usb_setuphandler_eventmanager_pending_w[1] & usb_setuphandler_eventmanager_storage[1]));
assign usb_setuphandler_packet_status = 1'd0;
assign usb_setuphandler_reset_status = usb_setuphandler_reset_trigger;
assign usb_setuphandler_setuphandlerinner_empty = (~usb_setuphandler_setuphandlerinner_readable);
assign usb_setuphandler_csrfield_have = usb_setuphandler_setuphandlerinner_readable;
assign usb_setuphandler_csrfield_is_in = usb_setuphandler_setuphandlerinner_is_in;
assign usb_setuphandler_csrfield_epno = usb_setuphandler_epno;
assign usb_setuphandler_csrfield_pend = usb_setuphandler_packet_pending;
assign usb_setuphandler_csrfield_data1 = usb_setuphandler_setuphandlerinner_have_data_stage;
assign usb_setuphandler_csrfield_data0 = usb_setuphandler_setuphandlerinner_syncfifo_dout;
assign usb_setuphandler_setuphandlerinner_re = usb_setuphandler_data_we;
always @(*) begin
	usb_setuphandler_setuphandlerinner_syncfifo_din <= 8'd0;
	usb_setuphandler_setuphandlerinner_syncfifo_we <= 1'd0;
	if ((usb_usb_core_tok == 4'd13)) begin
		usb_setuphandler_setuphandlerinner_syncfifo_din <= usb_setuphandler_data_recv_payload;
		usb_setuphandler_setuphandlerinner_syncfifo_we <= usb_setuphandler_data_recv_put;
	end
end
assign usb_setuphandler_packet_trigger = (usb_setuphandler_setuphandlerinner_readable & usb_usb_core_setup);
assign usb_setuphandler_setuphandlerinner_syncfifo_re = (usb_setuphandler_setuphandlerinner_syncfifo_readable & ((~usb_setuphandler_setuphandlerinner_readable) | usb_setuphandler_setuphandlerinner_re));
assign usb_setuphandler_setuphandlerinner_level1 = (usb_setuphandler_setuphandlerinner_level0 + usb_setuphandler_setuphandlerinner_readable);
always @(*) begin
	usb_setuphandler_setuphandlerinner_wrport_adr <= 4'd0;
	if (usb_setuphandler_setuphandlerinner_replace) begin
		usb_setuphandler_setuphandlerinner_wrport_adr <= (usb_setuphandler_setuphandlerinner_produce - 1'd1);
	end else begin
		usb_setuphandler_setuphandlerinner_wrport_adr <= usb_setuphandler_setuphandlerinner_produce;
	end
end
assign usb_setuphandler_setuphandlerinner_wrport_dat_w = usb_setuphandler_setuphandlerinner_syncfifo_din;
assign usb_setuphandler_setuphandlerinner_wrport_we = (usb_setuphandler_setuphandlerinner_syncfifo_we & (usb_setuphandler_setuphandlerinner_syncfifo_writable | usb_setuphandler_setuphandlerinner_replace));
assign usb_setuphandler_setuphandlerinner_do_read = (usb_setuphandler_setuphandlerinner_syncfifo_readable & usb_setuphandler_setuphandlerinner_syncfifo_re);
assign usb_setuphandler_setuphandlerinner_rdport_adr = usb_setuphandler_setuphandlerinner_consume;
assign usb_setuphandler_setuphandlerinner_syncfifo_dout = usb_setuphandler_setuphandlerinner_rdport_dat_r;
assign usb_setuphandler_setuphandlerinner_rdport_re = usb_setuphandler_setuphandlerinner_do_read;
assign usb_setuphandler_setuphandlerinner_syncfifo_writable = (usb_setuphandler_setuphandlerinner_level0 != 4'd10);
assign usb_setuphandler_setuphandlerinner_syncfifo_readable = (usb_setuphandler_setuphandlerinner_level0 != 1'd0);
assign usb_inhandler_ep_stall_mask = (1'd1 <<< usb_inhandler_csrfield_epno);
assign usb_inhandler_stalled = (usb_inhandler_stall_status >>> usb_usb_core_endp);
assign usb_inhandler_data_buf_reset = (usb_inhandler_csrfield_reset | ((usb_usb_core_commit & usb_inhandler_transmitted) & usb_inhandler_queued));
assign usb_inhandler_response = ((usb_inhandler_queued & usb_inhandler_is_our_packet) & usb_inhandler_is_in_packet);
assign usb_inhandler_csrfield_have = usb_inhandler_syncfifobuffered_readable;
assign usb_inhandler_csrfield_idle = (~usb_inhandler_queued);
assign usb_inhandler_csrfield_pend = usb_inhandler_packet_pending;
assign usb_inhandler_packet_trigger = ((~usb_inhandler_queued) & usb_inhandler_was_queued);
assign usb_inhandler_dtb = (usb_inhandler_dtbs >>> usb_usb_core_endp);
assign usb_inhandler_data_out = usb_inhandler_syncfifobuffered_syncfifo_dout;
assign usb_inhandler_data_out_have = usb_inhandler_syncfifobuffered_readable;
assign usb_inhandler_syncfifobuffered_re = ((usb_inhandler_data_out_advance & usb_inhandler_is_in_packet) & usb_inhandler_is_our_packet);
assign usb_inhandler_syncfifobuffered_syncfifo_we = usb_inhandler_data_re;
assign usb_inhandler_syncfifobuffered_syncfifo_din = usb_inhandler_data_storage;
assign usb_inhandler_is_our_packet = (usb_inhandler_csrfield_epno == usb_usb_core_endp);
assign usb_inhandler_is_in_packet = (usb_usb_core_tok == 4'd9);
assign usb_inhandler_syncfifobuffered_syncfifo_re = (usb_inhandler_syncfifobuffered_syncfifo_readable & ((~usb_inhandler_syncfifobuffered_readable) | usb_inhandler_syncfifobuffered_re));
assign usb_inhandler_syncfifobuffered_level1 = (usb_inhandler_syncfifobuffered_level0 + usb_inhandler_syncfifobuffered_readable);
always @(*) begin
	usb_inhandler_syncfifobuffered_wrport_adr <= 6'd0;
	if (usb_inhandler_syncfifobuffered_replace) begin
		usb_inhandler_syncfifobuffered_wrport_adr <= (usb_inhandler_syncfifobuffered_produce - 1'd1);
	end else begin
		usb_inhandler_syncfifobuffered_wrport_adr <= usb_inhandler_syncfifobuffered_produce;
	end
end
assign usb_inhandler_syncfifobuffered_wrport_dat_w = usb_inhandler_syncfifobuffered_syncfifo_din;
assign usb_inhandler_syncfifobuffered_wrport_we = (usb_inhandler_syncfifobuffered_syncfifo_we & (usb_inhandler_syncfifobuffered_syncfifo_writable | usb_inhandler_syncfifobuffered_replace));
assign usb_inhandler_syncfifobuffered_do_read = (usb_inhandler_syncfifobuffered_syncfifo_readable & usb_inhandler_syncfifobuffered_syncfifo_re);
assign usb_inhandler_syncfifobuffered_rdport_adr = usb_inhandler_syncfifobuffered_consume;
assign usb_inhandler_syncfifobuffered_syncfifo_dout = usb_inhandler_syncfifobuffered_rdport_dat_r;
assign usb_inhandler_syncfifobuffered_rdport_re = usb_inhandler_syncfifobuffered_do_read;
assign usb_inhandler_syncfifobuffered_syncfifo_writable = (usb_inhandler_syncfifobuffered_level0 != 7'd64);
assign usb_inhandler_syncfifobuffered_syncfifo_readable = (usb_inhandler_syncfifobuffered_level0 != 1'd0);
assign usb_inhandler_eventmanager_status_w = usb_inhandler_packet_status;
always @(*) begin
	usb_inhandler_packet_clear <= 1'd0;
	if ((usb_inhandler_eventmanager_pending_re & usb_inhandler_eventmanager_pending_r)) begin
		usb_inhandler_packet_clear <= 1'd1;
	end
end
assign usb_inhandler_eventmanager_pending_w = usb_inhandler_packet_pending;
assign usb_inhandler_irq = (usb_inhandler_eventmanager_pending_w & usb_inhandler_eventmanager_storage);
assign usb_inhandler_packet_status = 1'd0;
always @(*) begin
	usb_outhandler_ep_mask <= 16'd1;
	if ((usb_usb_core_setup | usb_usb_core_commit)) begin
		usb_outhandler_ep_mask <= (1'd1 <<< usb_usb_core_endp);
	end else begin
		usb_outhandler_ep_mask <= (1'd1 <<< usb_outhandler_csrfield_epno0);
	end
end
assign usb_outhandler_stalled = (usb_outhandler_stall_status >>> usb_usb_core_endp);
assign usb_outhandler_enabled = (usb_outhandler_enable_status >>> usb_usb_core_endp);
assign usb_outhandler_is_out_packet = (usb_usb_core_tok == 1'd1);
assign usb_outhandler_response = ((usb_outhandler_enabled & usb_outhandler_is_out_packet) & (~usb_outhandler_packet_pending));
assign usb_outhandler_syncfifobuffered_syncfifo_din = usb_outhandler_data_recv_payload;
assign usb_outhandler_syncfifobuffered_syncfifo_we = (usb_outhandler_data_recv_put & usb_outhandler_responding);
assign usb_outhandler_data_buf_reset = usb_outhandler_csrfield_reset;
assign usb_outhandler_csrfield_data = usb_outhandler_syncfifobuffered_syncfifo_dout;
assign usb_outhandler_syncfifobuffered_re = usb_outhandler_data_we;
assign usb_outhandler_csrfield_epno1 = usb_outhandler_epno;
assign usb_outhandler_csrfield_have = usb_outhandler_syncfifobuffered_readable;
assign usb_outhandler_csrfield_pend = usb_outhandler_packet_pending;
assign usb_outhandler_packet_trigger = (usb_outhandler_responding & usb_usb_core_commit);
assign usb_outhandler_syncfifobuffered_syncfifo_re = (usb_outhandler_syncfifobuffered_syncfifo_readable & ((~usb_outhandler_syncfifobuffered_readable) | usb_outhandler_syncfifobuffered_re));
assign usb_outhandler_syncfifobuffered_level1 = (usb_outhandler_syncfifobuffered_level0 + usb_outhandler_syncfifobuffered_readable);
always @(*) begin
	usb_outhandler_syncfifobuffered_wrport_adr <= 7'd0;
	if (usb_outhandler_syncfifobuffered_replace) begin
		usb_outhandler_syncfifobuffered_wrport_adr <= (usb_outhandler_syncfifobuffered_produce - 1'd1);
	end else begin
		usb_outhandler_syncfifobuffered_wrport_adr <= usb_outhandler_syncfifobuffered_produce;
	end
end
assign usb_outhandler_syncfifobuffered_wrport_dat_w = usb_outhandler_syncfifobuffered_syncfifo_din;
assign usb_outhandler_syncfifobuffered_wrport_we = (usb_outhandler_syncfifobuffered_syncfifo_we & (usb_outhandler_syncfifobuffered_syncfifo_writable | usb_outhandler_syncfifobuffered_replace));
assign usb_outhandler_syncfifobuffered_do_read = (usb_outhandler_syncfifobuffered_syncfifo_readable & usb_outhandler_syncfifobuffered_syncfifo_re);
assign usb_outhandler_syncfifobuffered_rdport_adr = usb_outhandler_syncfifobuffered_consume;
assign usb_outhandler_syncfifobuffered_syncfifo_dout = usb_outhandler_syncfifobuffered_rdport_dat_r;
assign usb_outhandler_syncfifobuffered_rdport_re = usb_outhandler_syncfifobuffered_do_read;
assign usb_outhandler_syncfifobuffered_syncfifo_writable = (usb_outhandler_syncfifobuffered_level0 != 7'd66);
assign usb_outhandler_syncfifobuffered_syncfifo_readable = (usb_outhandler_syncfifobuffered_level0 != 1'd0);
assign usb_outhandler_eventmanager_status_w = usb_outhandler_packet_status;
always @(*) begin
	usb_outhandler_packet_clear <= 1'd0;
	if ((usb_outhandler_eventmanager_pending_re & usb_outhandler_eventmanager_pending_r)) begin
		usb_outhandler_packet_clear <= 1'd1;
	end
end
assign usb_outhandler_eventmanager_pending_w = usb_outhandler_packet_pending;
assign usb_outhandler_irq = (usb_outhandler_eventmanager_pending_w & usb_outhandler_eventmanager_storage);
assign usb_outhandler_packet_status = 1'd0;
assign usb_ev_irq = ((usb_setuphandler_irq | usb_inhandler_irq) | usb_outhandler_irq);
always @(*) begin
	usb_setuphandler_begin <= 1'd0;
	usb_usb_core_data_send_have <= 1'd0;
	usb_usb_core_data_send_payload <= 8'd0;
	usb_usb_core_arm <= 1'd0;
	usb_usb_core_sta <= 1'd0;
	usb_inhandler_dtb_reset <= 1'd0;
	usb_setuphandler_data_recv_payload <= 8'd0;
	usb_setuphandler_data_recv_put <= 1'd0;
	usb_outhandler_data_recv_payload <= 8'd0;
	usb_outhandler_data_recv_put <= 1'd0;
	usb_inhandler_data_out_advance <= 1'd0;
	triendpointinterface_next_state <= 3'd0;
	usb_usb_core_addr_next_value <= 7'd0;
	usb_usb_core_addr_next_value_ce <= 1'd0;
	triendpointinterface_next_state <= triendpointinterface_state;
	case (triendpointinterface_state)
		1'd1: begin
			if (usb_usb_core_idle) begin
				triendpointinterface_next_state <= 1'd0;
			end else begin
				if ((usb_usb_core_tok == 4'd13)) begin
					triendpointinterface_next_state <= 2'd3;
					usb_setuphandler_begin <= 1'd1;
					usb_inhandler_dtb_reset <= 1'd1;
					usb_usb_core_sta <= 1'd0;
					usb_usb_core_arm <= 1'd1;
				end else begin
					if ((usb_usb_core_tok == 4'd9)) begin
						triendpointinterface_next_state <= 3'd4;
						usb_usb_core_sta <= usb_inhandler_stalled;
						usb_usb_core_arm <= usb_inhandler_response;
					end else begin
						if ((usb_usb_core_tok == 1'd1)) begin
							triendpointinterface_next_state <= 3'd5;
							usb_usb_core_sta <= usb_outhandler_stalled;
							usb_usb_core_arm <= usb_outhandler_response;
						end else begin
							triendpointinterface_next_state <= 1'd0;
						end
					end
				end
			end
		end
		2'd2: begin
			triendpointinterface_next_state <= 1'd0;
		end
		2'd3: begin
			usb_setuphandler_data_recv_payload <= usb_usb_core_data_recv_payload;
			usb_setuphandler_data_recv_put <= usb_usb_core_data_recv_put;
			usb_usb_core_sta <= 1'd0;
			usb_usb_core_arm <= 1'd1;
			if (usb_debug_packet_detected) begin
				triendpointinterface_next_state <= 2'd2;
			end
			if (usb_usb_core_end) begin
				triendpointinterface_next_state <= 1'd0;
			end
		end
		3'd4: begin
			if ((usb_usb_core_tok == 4'd9)) begin
				usb_usb_core_data_send_have <= usb_inhandler_data_out_have;
				usb_usb_core_data_send_payload <= usb_inhandler_data_out;
				usb_inhandler_data_out_advance <= usb_usb_core_data_send_get;
				usb_usb_core_sta <= usb_inhandler_stalled;
				usb_usb_core_arm <= usb_inhandler_response;
				if (usb_usb_core_end) begin
					triendpointinterface_next_state <= 1'd0;
				end
			end
		end
		3'd5: begin
			if ((usb_usb_core_tok == 1'd1)) begin
				usb_outhandler_data_recv_payload <= usb_usb_core_data_recv_payload;
				usb_outhandler_data_recv_put <= usb_usb_core_data_recv_put;
				usb_usb_core_sta <= usb_outhandler_stalled;
				usb_usb_core_arm <= usb_outhandler_response;
				if (usb_usb_core_end) begin
					triendpointinterface_next_state <= 1'd0;
				end
			end
		end
		default: begin
			usb_usb_core_addr_next_value <= usb_csrstorage_storage;
			usb_usb_core_addr_next_value_ce <= 1'd1;
			if (usb_usb_core_start) begin
				triendpointinterface_next_state <= 1'd1;
			end
		end
	endcase
end
assign shared_adr = array_muxed0;
assign shared_dat_w = array_muxed1;
assign shared_sel = array_muxed2;
assign shared_cyc = array_muxed3;
assign shared_stb = array_muxed4;
assign shared_we = array_muxed5;
assign shared_cti = array_muxed6;
assign shared_bte = array_muxed7;
assign wb_bus_dat_r = shared_dat_r;
assign wb_bus_ack = (shared_ack & (grant == 1'd0));
assign wb_bus_err = (shared_err & (grant == 1'd0));
assign request = {wb_bus_cyc};
assign grant = 1'd0;
assign slave_sel = (shared_adr[29:14] == 1'd0);
assign litexcore_bus_wishbone_adr = shared_adr;
assign litexcore_bus_wishbone_dat_w = shared_dat_w;
assign litexcore_bus_wishbone_sel = shared_sel;
assign litexcore_bus_wishbone_stb = shared_stb;
assign litexcore_bus_wishbone_we = shared_we;
assign litexcore_bus_wishbone_cti = shared_cti;
assign litexcore_bus_wishbone_bte = shared_bte;
assign litexcore_bus_wishbone_cyc = (shared_cyc & slave_sel);
assign shared_err = litexcore_bus_wishbone_err;
assign wait_1 = ((shared_stb & shared_cyc) & (~shared_ack));
always @(*) begin
	error <= 1'd0;
	shared_ack <= 1'd0;
	shared_dat_r <= 32'd0;
	shared_ack <= litexcore_bus_wishbone_ack;
	shared_dat_r <= ({32{slave_sel_r}} & litexcore_bus_wishbone_dat_r);
	if (done) begin
		shared_dat_r <= 32'd4294967295;
		shared_ack <= 1'd1;
		error <= 1'd1;
	end
end
assign done = (count == 1'd0);
assign csrbank0_sel = (interface0_bank_bus_adr[13:9] == 1'd0);
assign csrbank0_reset0_r = interface0_bank_bus_dat_w[0];
assign csrbank0_reset0_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 1'd0));
assign csrbank0_reset0_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 1'd0));
assign csrbank0_scratch3_r = interface0_bank_bus_dat_w[7:0];
assign csrbank0_scratch3_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 1'd1));
assign csrbank0_scratch3_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 1'd1));
assign csrbank0_scratch2_r = interface0_bank_bus_dat_w[7:0];
assign csrbank0_scratch2_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 2'd2));
assign csrbank0_scratch2_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 2'd2));
assign csrbank0_scratch1_r = interface0_bank_bus_dat_w[7:0];
assign csrbank0_scratch1_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 2'd3));
assign csrbank0_scratch1_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 2'd3));
assign csrbank0_scratch0_r = interface0_bank_bus_dat_w[7:0];
assign csrbank0_scratch0_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 3'd4));
assign csrbank0_scratch0_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 3'd4));
assign csrbank0_bus_errors3_r = interface0_bank_bus_dat_w[7:0];
assign csrbank0_bus_errors3_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 3'd5));
assign csrbank0_bus_errors3_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 3'd5));
assign csrbank0_bus_errors2_r = interface0_bank_bus_dat_w[7:0];
assign csrbank0_bus_errors2_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 3'd6));
assign csrbank0_bus_errors2_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 3'd6));
assign csrbank0_bus_errors1_r = interface0_bank_bus_dat_w[7:0];
assign csrbank0_bus_errors1_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 3'd7));
assign csrbank0_bus_errors1_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 3'd7));
assign csrbank0_bus_errors0_r = interface0_bank_bus_dat_w[7:0];
assign csrbank0_bus_errors0_re = ((csrbank0_sel & interface0_bank_bus_we) & (interface0_bank_bus_adr[3:0] == 4'd8));
assign csrbank0_bus_errors0_we = ((csrbank0_sel & (~interface0_bank_bus_we)) & (interface0_bank_bus_adr[3:0] == 4'd8));
assign csrbank0_reset0_w = litexcore_reset_storage;
assign csrbank0_scratch3_w = litexcore_scratch_storage[31:24];
assign csrbank0_scratch2_w = litexcore_scratch_storage[23:16];
assign csrbank0_scratch1_w = litexcore_scratch_storage[15:8];
assign csrbank0_scratch0_w = litexcore_scratch_storage[7:0];
assign csrbank0_bus_errors3_w = litexcore_bus_errors_status[31:24];
assign csrbank0_bus_errors2_w = litexcore_bus_errors_status[23:16];
assign csrbank0_bus_errors1_w = litexcore_bus_errors_status[15:8];
assign csrbank0_bus_errors0_w = litexcore_bus_errors_status[7:0];
assign litexcore_bus_errors_we = csrbank0_bus_errors0_we;
assign csrbank1_sel = (interface1_bank_bus_adr[13:9] == 1'd1);
assign csrbank1_pullup_out0_r = interface1_bank_bus_dat_w[0];
assign csrbank1_pullup_out0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 1'd0));
assign csrbank1_pullup_out0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 1'd0));
assign csrbank1_address0_r = interface1_bank_bus_dat_w[6:0];
assign csrbank1_address0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 1'd1));
assign csrbank1_address0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 1'd1));
assign csrbank1_next_ev_r = interface1_bank_bus_dat_w[3:0];
assign csrbank1_next_ev_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 2'd2));
assign csrbank1_next_ev_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 2'd2));
assign csrbank1_setup_data_r = interface1_bank_bus_dat_w[7:0];
assign csrbank1_setup_data_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 2'd3));
assign csrbank1_setup_data_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 2'd3));
assign csrbank1_setup_ctrl0_r = interface1_bank_bus_dat_w[5:0];
assign csrbank1_setup_ctrl0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 3'd4));
assign csrbank1_setup_ctrl0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 3'd4));
assign csrbank1_setup_status_r = interface1_bank_bus_dat_w[7:0];
assign csrbank1_setup_status_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 3'd5));
assign csrbank1_setup_status_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 3'd5));
assign usb_setuphandler_eventmanager_status_r = interface1_bank_bus_dat_w[1:0];
assign usb_setuphandler_eventmanager_status_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 3'd6));
assign usb_setuphandler_eventmanager_status_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 3'd6));
assign usb_setuphandler_eventmanager_pending_r = interface1_bank_bus_dat_w[1:0];
assign usb_setuphandler_eventmanager_pending_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 3'd7));
assign usb_setuphandler_eventmanager_pending_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 3'd7));
assign csrbank1_setup_ev_enable0_r = interface1_bank_bus_dat_w[1:0];
assign csrbank1_setup_ev_enable0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 4'd8));
assign csrbank1_setup_ev_enable0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 4'd8));
assign csrbank1_in_data0_r = interface1_bank_bus_dat_w[7:0];
assign csrbank1_in_data0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 4'd9));
assign csrbank1_in_data0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 4'd9));
assign csrbank1_in_ctrl0_r = interface1_bank_bus_dat_w[6:0];
assign csrbank1_in_ctrl0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 4'd10));
assign csrbank1_in_ctrl0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 4'd10));
assign csrbank1_in_status_r = interface1_bank_bus_dat_w[5:0];
assign csrbank1_in_status_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 4'd11));
assign csrbank1_in_status_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 4'd11));
assign usb_inhandler_eventmanager_status_r = interface1_bank_bus_dat_w[0];
assign usb_inhandler_eventmanager_status_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 4'd12));
assign usb_inhandler_eventmanager_status_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 4'd12));
assign usb_inhandler_eventmanager_pending_r = interface1_bank_bus_dat_w[0];
assign usb_inhandler_eventmanager_pending_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 4'd13));
assign usb_inhandler_eventmanager_pending_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 4'd13));
assign csrbank1_in_ev_enable0_r = interface1_bank_bus_dat_w[0];
assign csrbank1_in_ev_enable0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 4'd14));
assign csrbank1_in_ev_enable0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 4'd14));
assign csrbank1_out_data_r = interface1_bank_bus_dat_w[7:0];
assign csrbank1_out_data_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 4'd15));
assign csrbank1_out_data_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 4'd15));
assign csrbank1_out_ctrl0_r = interface1_bank_bus_dat_w[6:0];
assign csrbank1_out_ctrl0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 5'd16));
assign csrbank1_out_ctrl0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 5'd16));
assign csrbank1_out_status_r = interface1_bank_bus_dat_w[5:0];
assign csrbank1_out_status_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 5'd17));
assign csrbank1_out_status_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 5'd17));
assign usb_outhandler_eventmanager_status_r = interface1_bank_bus_dat_w[0];
assign usb_outhandler_eventmanager_status_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 5'd18));
assign usb_outhandler_eventmanager_status_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 5'd18));
assign usb_outhandler_eventmanager_pending_r = interface1_bank_bus_dat_w[0];
assign usb_outhandler_eventmanager_pending_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 5'd19));
assign usb_outhandler_eventmanager_pending_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 5'd19));
assign csrbank1_out_ev_enable0_r = interface1_bank_bus_dat_w[0];
assign csrbank1_out_ev_enable0_re = ((csrbank1_sel & interface1_bank_bus_we) & (interface1_bank_bus_adr[4:0] == 5'd20));
assign csrbank1_out_ev_enable0_we = ((csrbank1_sel & (~interface1_bank_bus_we)) & (interface1_bank_bus_adr[4:0] == 5'd20));
assign csrbank1_pullup_out0_w = usb_pullup_storage;
assign usb_csrfield_addr = usb_csrstorage_storage[6:0];
assign csrbank1_address0_w = usb_csrstorage_storage[6:0];
always @(*) begin
	usb_status <= 4'd0;
	usb_status[0] <= usb_csrfield_in;
	usb_status[1] <= usb_csrfield_out;
	usb_status[2] <= usb_csrfield_setup;
	usb_status[3] <= usb_csrfield_reset;
end
assign csrbank1_next_ev_w = usb_status[3:0];
assign usb_we = csrbank1_next_ev_we;
assign usb_setuphandler_data_status[7:0] = usb_setuphandler_csrfield_data0;
assign csrbank1_setup_data_w = usb_setuphandler_data_status[7:0];
assign usb_setuphandler_data_we = csrbank1_setup_data_we;
always @(*) begin
	usb_setuphandler_csrfield_reset <= 1'd0;
	if (usb_setuphandler_ctrl_re) begin
		usb_setuphandler_csrfield_reset <= usb_setuphandler_ctrl_storage[5];
	end
end
assign csrbank1_setup_ctrl0_w = usb_setuphandler_ctrl_storage[5:0];
always @(*) begin
	usb_setuphandler_status_status <= 8'd0;
	usb_setuphandler_status_status[3:0] <= usb_setuphandler_csrfield_epno;
	usb_setuphandler_status_status[4] <= usb_setuphandler_csrfield_have;
	usb_setuphandler_status_status[5] <= usb_setuphandler_csrfield_pend;
	usb_setuphandler_status_status[6] <= usb_setuphandler_csrfield_is_in;
	usb_setuphandler_status_status[7] <= usb_setuphandler_csrfield_data1;
end
assign csrbank1_setup_status_w = usb_setuphandler_status_status[7:0];
assign usb_setuphandler_status_we = csrbank1_setup_status_we;
assign csrbank1_setup_ev_enable0_w = usb_setuphandler_eventmanager_storage[1:0];
assign usb_inhandler_csrfield_data = usb_inhandler_data_storage[7:0];
assign csrbank1_in_data0_w = usb_inhandler_data_storage[7:0];
assign usb_inhandler_csrfield_epno = usb_inhandler_ctrl_storage[3:0];
always @(*) begin
	usb_inhandler_csrfield_reset <= 1'd0;
	if (usb_inhandler_ctrl_re) begin
		usb_inhandler_csrfield_reset <= usb_inhandler_ctrl_storage[5];
	end
end
always @(*) begin
	usb_inhandler_csrfield_stall <= 1'd0;
	if (usb_inhandler_ctrl_re) begin
		usb_inhandler_csrfield_stall <= usb_inhandler_ctrl_storage[6];
	end
end
assign csrbank1_in_ctrl0_w = usb_inhandler_ctrl_storage[6:0];
always @(*) begin
	usb_inhandler_status_status <= 6'd0;
	usb_inhandler_status_status[0] <= usb_inhandler_csrfield_idle;
	usb_inhandler_status_status[4] <= usb_inhandler_csrfield_have;
	usb_inhandler_status_status[5] <= usb_inhandler_csrfield_pend;
end
assign csrbank1_in_status_w = usb_inhandler_status_status[5:0];
assign usb_inhandler_status_we = csrbank1_in_status_we;
assign csrbank1_in_ev_enable0_w = usb_inhandler_eventmanager_storage;
assign usb_outhandler_data_status[7:0] = usb_outhandler_csrfield_data;
assign csrbank1_out_data_w = usb_outhandler_data_status[7:0];
assign usb_outhandler_data_we = csrbank1_out_data_we;
assign usb_outhandler_csrfield_epno0 = usb_outhandler_ctrl_storage[3:0];
assign usb_outhandler_csrfield_enable = usb_outhandler_ctrl_storage[4];
always @(*) begin
	usb_outhandler_csrfield_reset <= 1'd0;
	if (usb_outhandler_ctrl_re) begin
		usb_outhandler_csrfield_reset <= usb_outhandler_ctrl_storage[5];
	end
end
assign usb_outhandler_csrfield_stall = usb_outhandler_ctrl_storage[6];
assign csrbank1_out_ctrl0_w = usb_outhandler_ctrl_storage[6:0];
always @(*) begin
	usb_outhandler_status_status <= 6'd0;
	usb_outhandler_status_status[3:0] <= usb_outhandler_csrfield_epno1;
	usb_outhandler_status_status[4] <= usb_outhandler_csrfield_have;
	usb_outhandler_status_status[5] <= usb_outhandler_csrfield_pend;
end
assign csrbank1_out_status_w = usb_outhandler_status_status[5:0];
assign usb_outhandler_status_we = csrbank1_out_status_we;
assign csrbank1_out_ev_enable0_w = usb_outhandler_eventmanager_storage;
assign adr = litexcore_adr;
assign we = litexcore_we;
assign dat_w = litexcore_dat_w;
assign litexcore_dat_r = dat_r;
assign interface0_bank_bus_adr = adr;
assign interface1_bank_bus_adr = adr;
assign interface0_bank_bus_we = we;
assign interface1_bank_bus_we = we;
assign interface0_bank_bus_dat_w = dat_w;
assign interface1_bank_bus_dat_w = dat_w;
assign dat_r = (interface0_bank_bus_dat_r | interface1_bank_bus_dat_r);
assign slice_proxy = 9'd1;
always @(*) begin
	array_muxed0 <= 30'd0;
	case (grant)
		default: begin
			array_muxed0 <= wb_bus_adr;
		end
	endcase
end
always @(*) begin
	array_muxed1 <= 32'd0;
	case (grant)
		default: begin
			array_muxed1 <= wb_bus_dat_w;
		end
	endcase
end
always @(*) begin
	array_muxed2 <= 4'd0;
	case (grant)
		default: begin
			array_muxed2 <= wb_bus_sel;
		end
	endcase
end
always @(*) begin
	array_muxed3 <= 1'd0;
	case (grant)
		default: begin
			array_muxed3 <= wb_bus_cyc;
		end
	endcase
end
always @(*) begin
	array_muxed4 <= 1'd0;
	case (grant)
		default: begin
			array_muxed4 <= wb_bus_stb;
		end
	endcase
end
always @(*) begin
	array_muxed5 <= 1'd0;
	case (grant)
		default: begin
			array_muxed5 <= wb_bus_we;
		end
	endcase
end
always @(*) begin
	array_muxed6 <= 3'd0;
	case (grant)
		default: begin
			array_muxed6 <= wb_bus_cti;
		end
	endcase
end
always @(*) begin
	array_muxed7 <= 2'd0;
	case (grant)
		default: begin
			array_muxed7 <= wb_bus_bte;
		end
	endcase
end
assign usb_iobuf_usb_p_t_i1 = multiregimpl0_regs1;
assign usb_iobuf_usb_n_t_i1 = multiregimpl1_regs1;
assign usb_usb_core_tx_nrzi_dat = multiregimpl2_regs2;
assign usb_usb_core_tx_nrzi_oe1 = multiregimpl3_regs2;
assign usb_usb_core_txstate_o_oe12 = multiregimpl4_regs;
assign usb_usb_core_rx_payloadFifo_produce_rdomain = multiregimpl5_regs1;
assign usb_usb_core_rx_payloadFifo_consume_wdomain = multiregimpl6_regs1;
assign usb_usb_core_rx_flagsFifo_produce_rdomain = multiregimpl7_regs1;
assign usb_usb_core_rx_flagsFifo_consume_wdomain = multiregimpl8_regs1;

always @(posedge sys_clk) begin
	if ((litexcore_bus_errors != 32'd4294967295)) begin
		if (litexcore_bus_error) begin
			litexcore_bus_errors <= (litexcore_bus_errors + 1'd1);
		end
	end
	wb2csr_state <= wb2csr_next_state;
	if (usb_usb_core_usb_reset) begin
		usb_in_next <= 1'd0;
		usb_out_next <= 1'd0;
	end else begin
		if ((usb_inhandler_packet_pending & (~usb_outhandler_packet_pending))) begin
			usb_in_next <= 1'd1;
			usb_out_next <= 1'd0;
		end else begin
			if (((~usb_inhandler_packet_pending) & usb_outhandler_packet_pending)) begin
				usb_in_next <= 1'd0;
				usb_out_next <= 1'd1;
			end else begin
				if (((~usb_inhandler_packet_pending) & (~usb_outhandler_packet_pending))) begin
					usb_in_next <= 1'd0;
					usb_out_next <= 1'd0;
				end
			end
		end
	end
	slave_sel_r <= slave_sel;
	if (wait_1) begin
		if ((~done)) begin
			count <= (count - 1'd1);
		end
	end else begin
		count <= 20'd1000000;
	end
	interface0_bank_bus_dat_r <= 1'd0;
	if (csrbank0_sel) begin
		case (interface0_bank_bus_adr[3:0])
			1'd0: begin
				interface0_bank_bus_dat_r <= csrbank0_reset0_w;
			end
			1'd1: begin
				interface0_bank_bus_dat_r <= csrbank0_scratch3_w;
			end
			2'd2: begin
				interface0_bank_bus_dat_r <= csrbank0_scratch2_w;
			end
			2'd3: begin
				interface0_bank_bus_dat_r <= csrbank0_scratch1_w;
			end
			3'd4: begin
				interface0_bank_bus_dat_r <= csrbank0_scratch0_w;
			end
			3'd5: begin
				interface0_bank_bus_dat_r <= csrbank0_bus_errors3_w;
			end
			3'd6: begin
				interface0_bank_bus_dat_r <= csrbank0_bus_errors2_w;
			end
			3'd7: begin
				interface0_bank_bus_dat_r <= csrbank0_bus_errors1_w;
			end
			4'd8: begin
				interface0_bank_bus_dat_r <= csrbank0_bus_errors0_w;
			end
		endcase
	end
	if (csrbank0_reset0_re) begin
		litexcore_reset_storage <= csrbank0_reset0_r;
	end
	litexcore_reset_re <= csrbank0_reset0_re;
	if (csrbank0_scratch3_re) begin
		litexcore_scratch_storage[31:24] <= csrbank0_scratch3_r;
	end
	if (csrbank0_scratch2_re) begin
		litexcore_scratch_storage[23:16] <= csrbank0_scratch2_r;
	end
	if (csrbank0_scratch1_re) begin
		litexcore_scratch_storage[15:8] <= csrbank0_scratch1_r;
	end
	if (csrbank0_scratch0_re) begin
		litexcore_scratch_storage[7:0] <= csrbank0_scratch0_r;
	end
	litexcore_scratch_re <= csrbank0_scratch0_re;
	interface1_bank_bus_dat_r <= 1'd0;
	if (csrbank1_sel) begin
		case (interface1_bank_bus_adr[4:0])
			1'd0: begin
				interface1_bank_bus_dat_r <= csrbank1_pullup_out0_w;
			end
			1'd1: begin
				interface1_bank_bus_dat_r <= csrbank1_address0_w;
			end
			2'd2: begin
				interface1_bank_bus_dat_r <= csrbank1_next_ev_w;
			end
			2'd3: begin
				interface1_bank_bus_dat_r <= csrbank1_setup_data_w;
			end
			3'd4: begin
				interface1_bank_bus_dat_r <= csrbank1_setup_ctrl0_w;
			end
			3'd5: begin
				interface1_bank_bus_dat_r <= csrbank1_setup_status_w;
			end
			3'd6: begin
				interface1_bank_bus_dat_r <= usb_setuphandler_eventmanager_status_w;
			end
			3'd7: begin
				interface1_bank_bus_dat_r <= usb_setuphandler_eventmanager_pending_w;
			end
			4'd8: begin
				interface1_bank_bus_dat_r <= csrbank1_setup_ev_enable0_w;
			end
			4'd9: begin
				interface1_bank_bus_dat_r <= csrbank1_in_data0_w;
			end
			4'd10: begin
				interface1_bank_bus_dat_r <= csrbank1_in_ctrl0_w;
			end
			4'd11: begin
				interface1_bank_bus_dat_r <= csrbank1_in_status_w;
			end
			4'd12: begin
				interface1_bank_bus_dat_r <= usb_inhandler_eventmanager_status_w;
			end
			4'd13: begin
				interface1_bank_bus_dat_r <= usb_inhandler_eventmanager_pending_w;
			end
			4'd14: begin
				interface1_bank_bus_dat_r <= csrbank1_in_ev_enable0_w;
			end
			4'd15: begin
				interface1_bank_bus_dat_r <= csrbank1_out_data_w;
			end
			5'd16: begin
				interface1_bank_bus_dat_r <= csrbank1_out_ctrl0_w;
			end
			5'd17: begin
				interface1_bank_bus_dat_r <= csrbank1_out_status_w;
			end
			5'd18: begin
				interface1_bank_bus_dat_r <= usb_outhandler_eventmanager_status_w;
			end
			5'd19: begin
				interface1_bank_bus_dat_r <= usb_outhandler_eventmanager_pending_w;
			end
			5'd20: begin
				interface1_bank_bus_dat_r <= csrbank1_out_ev_enable0_w;
			end
		endcase
	end
	if (csrbank1_pullup_out0_re) begin
		usb_pullup_storage <= csrbank1_pullup_out0_r;
	end
	usb_pullup_re <= csrbank1_pullup_out0_re;
	if (csrbank1_address0_re) begin
		usb_csrstorage_storage[6:0] <= csrbank1_address0_r;
	end
	usb_csrstorage_re <= csrbank1_address0_re;
	if (usb_address_reset) begin
		usb_csrstorage_storage <= 7'd0;
		usb_csrstorage_re <= 1'd0;
	end
	if (csrbank1_setup_ctrl0_re) begin
		usb_setuphandler_ctrl_storage[5:0] <= csrbank1_setup_ctrl0_r;
	end
	usb_setuphandler_ctrl_re <= csrbank1_setup_ctrl0_re;
	if (csrbank1_setup_ev_enable0_re) begin
		usb_setuphandler_eventmanager_storage[1:0] <= csrbank1_setup_ev_enable0_r;
	end
	usb_setuphandler_eventmanager_re <= csrbank1_setup_ev_enable0_re;
	if (csrbank1_in_data0_re) begin
		usb_inhandler_data_storage[7:0] <= csrbank1_in_data0_r;
	end
	usb_inhandler_data_re <= csrbank1_in_data0_re;
	if (csrbank1_in_ctrl0_re) begin
		usb_inhandler_ctrl_storage[6:0] <= csrbank1_in_ctrl0_r;
	end
	usb_inhandler_ctrl_re <= csrbank1_in_ctrl0_re;
	if (csrbank1_in_ev_enable0_re) begin
		usb_inhandler_eventmanager_storage <= csrbank1_in_ev_enable0_r;
	end
	usb_inhandler_eventmanager_re <= csrbank1_in_ev_enable0_re;
	if (csrbank1_out_ctrl0_re) begin
		usb_outhandler_ctrl_storage[6:0] <= csrbank1_out_ctrl0_r;
	end
	usb_outhandler_ctrl_re <= csrbank1_out_ctrl0_re;
	if (csrbank1_out_ev_enable0_re) begin
		usb_outhandler_eventmanager_storage <= csrbank1_out_ev_enable0_r;
	end
	usb_outhandler_eventmanager_re <= csrbank1_out_ev_enable0_re;
	if (sys_rst) begin
		litexcore_reset_storage <= 1'd0;
		litexcore_reset_re <= 1'd0;
		litexcore_scratch_storage <= 32'd305419896;
		litexcore_scratch_re <= 1'd0;
		litexcore_bus_errors <= 32'd0;
		usb_pullup_storage <= 1'd0;
		usb_pullup_re <= 1'd0;
		usb_csrstorage_storage <= 7'd0;
		usb_csrstorage_re <= 1'd0;
		usb_setuphandler_ctrl_storage <= 6'd0;
		usb_setuphandler_ctrl_re <= 1'd0;
		usb_setuphandler_eventmanager_storage <= 2'd0;
		usb_setuphandler_eventmanager_re <= 1'd0;
		usb_inhandler_data_storage <= 8'd0;
		usb_inhandler_data_re <= 1'd0;
		usb_inhandler_ctrl_storage <= 7'd0;
		usb_inhandler_ctrl_re <= 1'd0;
		usb_inhandler_eventmanager_storage <= 1'd0;
		usb_inhandler_eventmanager_re <= 1'd0;
		usb_outhandler_ctrl_storage <= 7'd0;
		usb_outhandler_ctrl_re <= 1'd0;
		usb_outhandler_eventmanager_storage <= 1'd0;
		usb_outhandler_eventmanager_re <= 1'd0;
		usb_in_next <= 1'd0;
		usb_out_next <= 1'd0;
		wb2csr_state <= 1'd0;
		slave_sel_r <= 1'd0;
		count <= 20'd1000000;
		interface0_bank_bus_dat_r <= 8'd0;
		interface1_bank_bus_dat_r <= 8'd0;
	end
end

always @(posedge usb_12_clk) begin
	usb_usb_core_tx_bitstuff_valid_data <= (((~usb_usb_core_tx_stall) & usb_usb_core_tx_shifter_o_get) & usb_usb_core_tx_i_oe);
	triendpointinterface_fsm_state <= triendpointinterface_fsm_next_state;
	if (usb_usb_core_tx_sync_pulse_txpipeline_next_value_ce0) begin
		usb_usb_core_tx_sync_pulse <= usb_usb_core_tx_sync_pulse_txpipeline_next_value0;
	end
	if (usb_usb_core_tx_state_gray_txpipeline_next_value_ce1) begin
		usb_usb_core_tx_state_gray <= usb_usb_core_tx_state_gray_txpipeline_next_value1;
	end
	if (usb_usb_core_tx_shifter_ce) begin
		usb_usb_core_tx_shifter_pos <= (usb_usb_core_tx_shifter_pos >>> 1'd1);
		usb_usb_core_tx_shifter_shifter <= (usb_usb_core_tx_shifter_shifter >>> 1'd1);
		if (usb_usb_core_tx_shifter_empty) begin
			usb_usb_core_tx_shifter_shifter <= usb_usb_core_tx_shifter_i_data;
			usb_usb_core_tx_shifter_pos <= 8'd128;
		end
		usb_usb_core_tx_shifter_o_get <= usb_usb_core_tx_shifter_empty;
	end
	if (usb_usb_core_tx_shifter_reset) begin
		usb_usb_core_tx_shifter_o_get <= 1'd0;
		usb_usb_core_tx_shifter_shifter <= 8'd0;
		usb_usb_core_tx_shifter_pos <= 8'd1;
	end
	if (usb_usb_core_tx_bitstuff_stuff_bit) begin
		usb_usb_core_tx_bitstuff_o_data <= 1'd0;
	end else begin
		usb_usb_core_tx_bitstuff_o_data <= usb_usb_core_tx_bitstuff_i_data;
	end
	triendpointinterface_resetinserter_state <= triendpointinterface_resetinserter_next_state;
	if (usb_usb_core_tx_bitstuff_reset) begin
		usb_usb_core_tx_bitstuff_o_data <= 1'd0;
		triendpointinterface_resetinserter_state <= 3'd0;
	end
	triendpointinterface_txpacketsend_state <= triendpointinterface_txpacketsend_next_state;
	if (usb_usb_core_tx_i_oe_txpacketsend_next_value_ce0) begin
		usb_usb_core_tx_i_oe <= usb_usb_core_tx_i_oe_txpacketsend_next_value0;
	end
	if (usb_usb_core_txstate_pid_txpacketsend_next_value_ce1) begin
		usb_usb_core_txstate_pid <= usb_usb_core_txstate_pid_txpacketsend_next_value1;
	end
	if (usb_usb_core_txstate_i_data_strobe) begin
		usb_usb_core_txstate_crc_cur <= usb_usb_core_txstate_crc_next;
	end
	if (usb_usb_core_txstate_reset) begin
		usb_usb_core_txstate_crc_cur <= 16'd65535;
	end
	if (usb_usb_core_rx_o_pkt_start) begin
		usb_usb_core_rx_o_pkt_in_progress <= 1'd1;
	end else begin
		if (usb_usb_core_rx_o_pkt_end) begin
			usb_usb_core_rx_o_pkt_in_progress <= 1'd0;
		end
	end
	usb_usb_core_rx_payloadFifo_graycounter1_q_binary <= usb_usb_core_rx_payloadFifo_graycounter1_q_next_binary;
	usb_usb_core_rx_payloadFifo_graycounter1_q <= usb_usb_core_rx_payloadFifo_graycounter1_q_next;
	usb_usb_core_rx_flagsFifo_graycounter1_q_binary <= usb_usb_core_rx_flagsFifo_graycounter1_q_next_binary;
	usb_usb_core_rx_flagsFifo_graycounter1_q <= usb_usb_core_rx_flagsFifo_graycounter1_q_next;
	triendpointinterface_packetheaderdecode_state <= triendpointinterface_packetheaderdecode_next_state;
	if (usb_usb_core_o_pid_packetheaderdecode_next_value_ce0) begin
		usb_usb_core_o_pid <= usb_usb_core_o_pid_packetheaderdecode_next_value0;
	end
	if (triendpointinterface_packetheaderdecode_next_value_ce) begin
		usb_usb_core_o_addr[6:0] <= triendpointinterface_packetheaderdecode_next_value;
	end
	if (usb_usb_core_endp4_packetheaderdecode_next_value_ce1) begin
		usb_usb_core_endp4 <= usb_usb_core_endp4_packetheaderdecode_next_value1;
	end
	if (usb_usb_core_o_endp_packetheaderdecode_next_value_ce2) begin
		usb_usb_core_o_endp <= usb_usb_core_o_endp_packetheaderdecode_next_value2;
	end
	if (usb_usb_core_crc5_packetheaderdecode_next_value_ce3) begin
		usb_usb_core_crc5 <= usb_usb_core_crc5_packetheaderdecode_next_value3;
	end
	triendpointinterface_clockdomainsrenamer_state <= triendpointinterface_clockdomainsrenamer_next_state;
	if (usb_usb_core_tok_f_next_value_ce0) begin
		usb_usb_core_tok <= usb_usb_core_tok_f_next_value0;
	end
	if (usb_usb_core_endp_f_next_value_ce1) begin
		usb_usb_core_endp <= usb_usb_core_endp_f_next_value1;
	end
	if (usb_usb_core_response_pid_t_next_value_ce) begin
		usb_usb_core_response_pid <= usb_usb_core_response_pid_t_next_value;
	end
	if (usb_usb_core_transfer_reset) begin
		usb_usb_core_tok <= 4'd0;
		usb_usb_core_endp <= 4'd0;
		usb_usb_core_response_pid <= 4'd0;
		triendpointinterface_clockdomainsrenamer_state <= 4'd1;
	end
	if (usb_setuphandler_packet_clear) begin
		usb_setuphandler_packet_pending <= 1'd0;
	end
	if (usb_setuphandler_packet_trigger) begin
		usb_setuphandler_packet_pending <= 1'd1;
	end
	if (usb_setuphandler_reset_clear) begin
		usb_setuphandler_reset_pending <= 1'd0;
	end
	usb_setuphandler_reset_old_trigger <= usb_setuphandler_reset_trigger;
	if (((~usb_setuphandler_reset_trigger) & usb_setuphandler_reset_old_trigger)) begin
		usb_setuphandler_reset_pending <= 1'd1;
	end
	if (usb_setuphandler_data_recv_put) begin
		if ((usb_setuphandler_setuphandlerinner_data_byte == 1'd0)) begin
			usb_setuphandler_epno <= usb_usb_core_endp;
			usb_setuphandler_setuphandlerinner_is_in <= usb_setuphandler_data_recv_payload[7];
		end else begin
			if ((usb_setuphandler_setuphandlerinner_data_byte == 3'd6)) begin
				if (usb_setuphandler_data_recv_payload) begin
					usb_setuphandler_setuphandlerinner_have_data_stage <= 1'd1;
				end
			end else begin
				if ((usb_setuphandler_setuphandlerinner_data_byte == 3'd7)) begin
					if (usb_setuphandler_data_recv_payload) begin
						usb_setuphandler_setuphandlerinner_have_data_stage <= 1'd1;
					end
				end
			end
		end
		usb_setuphandler_setuphandlerinner_data_byte <= (usb_setuphandler_setuphandlerinner_data_byte + 1'd1);
	end
	if (usb_setuphandler_setuphandlerinner_syncfifo_re) begin
		usb_setuphandler_setuphandlerinner_readable <= 1'd1;
	end else begin
		if (usb_setuphandler_setuphandlerinner_re) begin
			usb_setuphandler_setuphandlerinner_readable <= 1'd0;
		end
	end
	if (((usb_setuphandler_setuphandlerinner_syncfifo_we & usb_setuphandler_setuphandlerinner_syncfifo_writable) & (~usb_setuphandler_setuphandlerinner_replace))) begin
		if ((usb_setuphandler_setuphandlerinner_produce == 4'd9)) begin
			usb_setuphandler_setuphandlerinner_produce <= 1'd0;
		end else begin
			usb_setuphandler_setuphandlerinner_produce <= (usb_setuphandler_setuphandlerinner_produce + 1'd1);
		end
	end
	if (usb_setuphandler_setuphandlerinner_do_read) begin
		if ((usb_setuphandler_setuphandlerinner_consume == 4'd9)) begin
			usb_setuphandler_setuphandlerinner_consume <= 1'd0;
		end else begin
			usb_setuphandler_setuphandlerinner_consume <= (usb_setuphandler_setuphandlerinner_consume + 1'd1);
		end
	end
	if (((usb_setuphandler_setuphandlerinner_syncfifo_we & usb_setuphandler_setuphandlerinner_syncfifo_writable) & (~usb_setuphandler_setuphandlerinner_replace))) begin
		if ((~usb_setuphandler_setuphandlerinner_do_read)) begin
			usb_setuphandler_setuphandlerinner_level0 <= (usb_setuphandler_setuphandlerinner_level0 + 1'd1);
		end
	end else begin
		if (usb_setuphandler_setuphandlerinner_do_read) begin
			usb_setuphandler_setuphandlerinner_level0 <= (usb_setuphandler_setuphandlerinner_level0 - 1'd1);
		end
	end
	if (usb_setuphandler_inner_reset) begin
		usb_setuphandler_epno <= 1'd0;
		usb_setuphandler_setuphandlerinner_readable <= 1'd0;
		usb_setuphandler_setuphandlerinner_level0 <= 4'd0;
		usb_setuphandler_setuphandlerinner_produce <= 4'd0;
		usb_setuphandler_setuphandlerinner_consume <= 4'd0;
		usb_setuphandler_setuphandlerinner_data_byte <= 4'd0;
		usb_setuphandler_setuphandlerinner_have_data_stage <= 1'd0;
		usb_setuphandler_setuphandlerinner_is_in <= 1'd0;
	end
	if (usb_inhandler_csrfield_reset) begin
		usb_inhandler_stall_status <= 1'd0;
	end else begin
		if ((usb_usb_core_setup | (usb_inhandler_ctrl_re & (~usb_inhandler_csrfield_stall)))) begin
			usb_inhandler_stall_status <= (usb_inhandler_stall_status & (~usb_inhandler_ep_stall_mask));
		end else begin
			if (usb_inhandler_ctrl_re) begin
				usb_inhandler_stall_status <= (usb_inhandler_stall_status | usb_inhandler_ep_stall_mask);
			end
		end
	end
	if (usb_inhandler_csrfield_reset) begin
		usb_inhandler_queued <= 1'd0;
		usb_inhandler_was_queued <= 1'd0;
		usb_inhandler_transmitted <= 1'd0;
		usb_inhandler_dtbs <= 1'd1;
	end else begin
		if (usb_inhandler_dtb_reset) begin
			usb_inhandler_dtbs <= (usb_inhandler_dtbs | 1'd1);
		end else begin
			if ((usb_inhandler_ctrl_re & (~usb_inhandler_csrfield_stall))) begin
				usb_inhandler_queued <= 1'd1;
			end else begin
				if ((usb_usb_core_poll & usb_inhandler_response)) begin
					usb_inhandler_transmitted <= 1'd1;
				end else begin
					if ((((usb_usb_core_commit & usb_inhandler_transmitted) & usb_inhandler_response) & (~usb_inhandler_stalled))) begin
						usb_inhandler_queued <= 1'd0;
						usb_inhandler_transmitted <= 1'd0;
						usb_inhandler_dtbs <= (usb_inhandler_dtbs ^ (1'd1 <<< usb_inhandler_csrfield_epno));
					end else begin
						usb_inhandler_was_queued <= usb_inhandler_queued;
					end
				end
			end
		end
	end
	if (usb_inhandler_syncfifobuffered_syncfifo_re) begin
		usb_inhandler_syncfifobuffered_readable <= 1'd1;
	end else begin
		if (usb_inhandler_syncfifobuffered_re) begin
			usb_inhandler_syncfifobuffered_readable <= 1'd0;
		end
	end
	if (((usb_inhandler_syncfifobuffered_syncfifo_we & usb_inhandler_syncfifobuffered_syncfifo_writable) & (~usb_inhandler_syncfifobuffered_replace))) begin
		usb_inhandler_syncfifobuffered_produce <= (usb_inhandler_syncfifobuffered_produce + 1'd1);
	end
	if (usb_inhandler_syncfifobuffered_do_read) begin
		usb_inhandler_syncfifobuffered_consume <= (usb_inhandler_syncfifobuffered_consume + 1'd1);
	end
	if (((usb_inhandler_syncfifobuffered_syncfifo_we & usb_inhandler_syncfifobuffered_syncfifo_writable) & (~usb_inhandler_syncfifobuffered_replace))) begin
		if ((~usb_inhandler_syncfifobuffered_do_read)) begin
			usb_inhandler_syncfifobuffered_level0 <= (usb_inhandler_syncfifobuffered_level0 + 1'd1);
		end
	end else begin
		if (usb_inhandler_syncfifobuffered_do_read) begin
			usb_inhandler_syncfifobuffered_level0 <= (usb_inhandler_syncfifobuffered_level0 - 1'd1);
		end
	end
	if (usb_inhandler_data_buf_reset) begin
		usb_inhandler_syncfifobuffered_readable <= 1'd0;
		usb_inhandler_syncfifobuffered_level0 <= 7'd0;
		usb_inhandler_syncfifobuffered_produce <= 6'd0;
		usb_inhandler_syncfifobuffered_consume <= 6'd0;
	end
	if (usb_inhandler_packet_clear) begin
		usb_inhandler_packet_pending <= 1'd0;
	end
	if (usb_inhandler_packet_trigger) begin
		usb_inhandler_packet_pending <= 1'd1;
	end
	if ((usb_outhandler_csrfield_reset | usb_outhandler_usb_reset)) begin
		usb_outhandler_stall_status <= 1'd0;
	end else begin
		if ((usb_usb_core_setup | (usb_outhandler_ctrl_re & (~usb_outhandler_csrfield_stall)))) begin
			usb_outhandler_stall_status <= (usb_outhandler_stall_status & (~usb_outhandler_ep_mask));
		end else begin
			if (usb_outhandler_ctrl_re) begin
				usb_outhandler_stall_status <= (usb_outhandler_stall_status | usb_outhandler_ep_mask);
			end
		end
	end
	if (usb_usb_core_poll) begin
		usb_outhandler_responding <= usb_outhandler_response;
	end
	if (usb_outhandler_csrfield_reset) begin
		usb_outhandler_enable_status <= 1'd0;
	end else begin
		if ((usb_usb_core_commit & usb_outhandler_responding)) begin
			usb_outhandler_epno <= usb_usb_core_endp;
			usb_outhandler_enable_status <= (usb_outhandler_enable_status & (~usb_outhandler_ep_mask));
			usb_outhandler_responding <= 1'd0;
		end else begin
			if (usb_outhandler_ctrl_re) begin
				if (usb_outhandler_csrfield_enable) begin
					usb_outhandler_enable_status <= (usb_outhandler_enable_status | usb_outhandler_ep_mask);
				end else begin
					usb_outhandler_enable_status <= (usb_outhandler_enable_status & (~usb_outhandler_ep_mask));
				end
			end
		end
	end
	if (usb_outhandler_syncfifobuffered_syncfifo_re) begin
		usb_outhandler_syncfifobuffered_readable <= 1'd1;
	end else begin
		if (usb_outhandler_syncfifobuffered_re) begin
			usb_outhandler_syncfifobuffered_readable <= 1'd0;
		end
	end
	if (((usb_outhandler_syncfifobuffered_syncfifo_we & usb_outhandler_syncfifobuffered_syncfifo_writable) & (~usb_outhandler_syncfifobuffered_replace))) begin
		if ((usb_outhandler_syncfifobuffered_produce == 7'd65)) begin
			usb_outhandler_syncfifobuffered_produce <= 1'd0;
		end else begin
			usb_outhandler_syncfifobuffered_produce <= (usb_outhandler_syncfifobuffered_produce + 1'd1);
		end
	end
	if (usb_outhandler_syncfifobuffered_do_read) begin
		if ((usb_outhandler_syncfifobuffered_consume == 7'd65)) begin
			usb_outhandler_syncfifobuffered_consume <= 1'd0;
		end else begin
			usb_outhandler_syncfifobuffered_consume <= (usb_outhandler_syncfifobuffered_consume + 1'd1);
		end
	end
	if (((usb_outhandler_syncfifobuffered_syncfifo_we & usb_outhandler_syncfifobuffered_syncfifo_writable) & (~usb_outhandler_syncfifobuffered_replace))) begin
		if ((~usb_outhandler_syncfifobuffered_do_read)) begin
			usb_outhandler_syncfifobuffered_level0 <= (usb_outhandler_syncfifobuffered_level0 + 1'd1);
		end
	end else begin
		if (usb_outhandler_syncfifobuffered_do_read) begin
			usb_outhandler_syncfifobuffered_level0 <= (usb_outhandler_syncfifobuffered_level0 - 1'd1);
		end
	end
	if (usb_outhandler_data_buf_reset) begin
		usb_outhandler_syncfifobuffered_readable <= 1'd0;
		usb_outhandler_syncfifobuffered_level0 <= 7'd0;
		usb_outhandler_syncfifobuffered_produce <= 7'd0;
		usb_outhandler_syncfifobuffered_consume <= 7'd0;
	end
	if (usb_outhandler_packet_clear) begin
		usb_outhandler_packet_pending <= 1'd0;
	end
	if (usb_outhandler_packet_trigger) begin
		usb_outhandler_packet_pending <= 1'd1;
	end
	triendpointinterface_state <= triendpointinterface_next_state;
	if (usb_usb_core_addr_next_value_ce) begin
		usb_usb_core_addr <= usb_usb_core_addr_next_value;
	end
	if (usb_resetinserter_reset) begin
		usb_usb_core_addr <= 7'd0;
		triendpointinterface_state <= 3'd0;
	end
	if (usb_12_rst) begin
		usb_usb_core_tx_i_oe <= 1'd0;
		usb_usb_core_tx_shifter_o_get <= 1'd0;
		usb_usb_core_tx_shifter_shifter <= 8'd0;
		usb_usb_core_tx_shifter_pos <= 8'd1;
		usb_usb_core_tx_bitstuff_o_data <= 1'd0;
		usb_usb_core_tx_sync_pulse <= 8'd0;
		usb_usb_core_tx_bitstuff_valid_data <= 1'd0;
		usb_usb_core_tx_state_gray <= 2'd0;
		usb_usb_core_txstate_pid <= 4'd0;
		usb_usb_core_txstate_crc_cur <= 16'd65535;
		usb_usb_core_rx_o_pkt_in_progress <= 1'd0;
		usb_usb_core_rx_payloadFifo_graycounter1_q <= 2'd0;
		usb_usb_core_rx_payloadFifo_graycounter1_q_binary <= 2'd0;
		usb_usb_core_rx_flagsFifo_graycounter1_q <= 2'd0;
		usb_usb_core_rx_flagsFifo_graycounter1_q_binary <= 2'd0;
		usb_usb_core_o_pid <= 4'd0;
		usb_usb_core_o_addr <= 7'd0;
		usb_usb_core_endp4 <= 1'd0;
		usb_usb_core_o_endp <= 4'd0;
		usb_usb_core_crc5 <= 5'd0;
		usb_usb_core_addr <= 7'd0;
		usb_usb_core_tok <= 4'd0;
		usb_usb_core_endp <= 4'd0;
		usb_usb_core_response_pid <= 4'd0;
		usb_setuphandler_epno <= 1'd0;
		usb_setuphandler_packet_pending <= 1'd0;
		usb_setuphandler_reset_pending <= 1'd0;
		usb_setuphandler_reset_old_trigger <= 1'd0;
		usb_setuphandler_setuphandlerinner_readable <= 1'd0;
		usb_setuphandler_setuphandlerinner_level0 <= 4'd0;
		usb_setuphandler_setuphandlerinner_produce <= 4'd0;
		usb_setuphandler_setuphandlerinner_consume <= 4'd0;
		usb_setuphandler_setuphandlerinner_data_byte <= 4'd0;
		usb_setuphandler_setuphandlerinner_have_data_stage <= 1'd0;
		usb_setuphandler_setuphandlerinner_is_in <= 1'd0;
		usb_inhandler_dtbs <= 16'd1;
		usb_inhandler_stall_status <= 16'd0;
		usb_inhandler_syncfifobuffered_readable <= 1'd0;
		usb_inhandler_syncfifobuffered_level0 <= 7'd0;
		usb_inhandler_syncfifobuffered_produce <= 6'd0;
		usb_inhandler_syncfifobuffered_consume <= 6'd0;
		usb_inhandler_packet_pending <= 1'd0;
		usb_inhandler_queued <= 1'd0;
		usb_inhandler_was_queued <= 1'd0;
		usb_inhandler_transmitted <= 1'd0;
		usb_outhandler_syncfifobuffered_readable <= 1'd0;
		usb_outhandler_syncfifobuffered_level0 <= 7'd0;
		usb_outhandler_syncfifobuffered_produce <= 7'd0;
		usb_outhandler_syncfifobuffered_consume <= 7'd0;
		usb_outhandler_packet_pending <= 1'd0;
		usb_outhandler_stall_status <= 16'd0;
		usb_outhandler_enable_status <= 16'd0;
		usb_outhandler_epno <= 4'd0;
		usb_outhandler_responding <= 1'd0;
		triendpointinterface_fsm_state <= 2'd0;
		triendpointinterface_resetinserter_state <= 3'd0;
		triendpointinterface_txpacketsend_state <= 4'd0;
		triendpointinterface_packetheaderdecode_state <= 3'd0;
		triendpointinterface_clockdomainsrenamer_state <= 4'd1;
		triendpointinterface_state <= 3'd0;
	end
	multiregimpl4_regs <= usb_usb_core_tx_o_oe;
	multiregimpl5_regs0 <= usb_usb_core_rx_payloadFifo_graycounter0_q;
	multiregimpl5_regs1 <= multiregimpl5_regs0;
	multiregimpl7_regs0 <= usb_usb_core_rx_flagsFifo_graycounter0_q;
	multiregimpl7_regs1 <= multiregimpl7_regs0;
end

always @(posedge usb_48_clk) begin
	usb_usb_core_tx_nrzi_o_oe <= usb_usb_core_tx_nrzi_oe0;
	usb_usb_core_tx_nrzi_o_usbp <= usb_usb_core_tx_nrzi_usbp;
	usb_usb_core_tx_nrzi_o_usbn <= usb_usb_core_tx_nrzi_usbn;
	triendpointinterface_txnrziencoder_state <= triendpointinterface_txnrziencoder_next_state;
	if (usb_usb_core_rx_line_state_valid) begin
		if (usb_usb_core_rx_line_state_se01) begin
			if ((~usb_usb_core_rx_reset_counter[6])) begin
				usb_usb_core_rx_reset_counter <= (usb_usb_core_rx_reset_counter + 1'd1);
			end
		end else begin
			usb_usb_core_rx_reset_counter <= 1'd0;
		end
	end
	usb_usb_core_rx_last_reset <= usb_usb_core_rx_reset1;
	usb_usb_core_rx_line_state_valid <= (usb_usb_core_rx_line_state_phase == 1'd1);
	if (usb_usb_core_rx_line_state_dt) begin
		usb_usb_core_rx_line_state_phase <= 1'd0;
		usb_usb_core_rx_line_state_valid <= 1'd0;
	end else begin
		usb_usb_core_rx_line_state_phase <= (usb_usb_core_rx_line_state_phase + 1'd1);
	end
	usb_usb_core_rx_line_state_dj1 <= usb_usb_core_rx_line_state_dj0;
	usb_usb_core_rx_line_state_dk1 <= usb_usb_core_rx_line_state_dk0;
	usb_usb_core_rx_line_state_se01 <= usb_usb_core_rx_line_state_se00;
	usb_usb_core_rx_line_state_se11 <= usb_usb_core_rx_line_state_se10;
	triendpointinterface_rxpipeline_state <= triendpointinterface_rxpipeline_next_state;
	if (usb_usb_core_rx_nrzi_i_valid) begin
		usb_usb_core_rx_nrzi_last_data <= usb_usb_core_rx_nrzi_i_dk;
		usb_usb_core_rx_nrzi_o_data <= (~(usb_usb_core_rx_nrzi_i_dk ^ usb_usb_core_rx_nrzi_last_data));
		usb_usb_core_rx_nrzi_o_se0 <= ((~usb_usb_core_rx_nrzi_i_dj) & (~usb_usb_core_rx_nrzi_i_dk));
	end
	usb_usb_core_rx_nrzi_o_valid <= usb_usb_core_rx_nrzi_i_valid;
	triendpointinterface_rxpipeline_rxpacketdetect_state <= triendpointinterface_rxpipeline_rxpacketdetect_next_state;
	if (usb_usb_core_rx_detect_reset) begin
		triendpointinterface_rxpipeline_rxpacketdetect_state <= 3'd0;
	end
	usb_usb_core_rx_bitstuff_o_data <= usb_usb_core_rx_bitstuff_i_data;
	usb_usb_core_rx_bitstuff_o_stall <= (usb_usb_core_rx_bitstuff_drop_bit | (~usb_usb_core_rx_bitstuff_i_valid));
	usb_usb_core_rx_bitstuff_o_error <= ((usb_usb_core_rx_bitstuff_drop_bit & usb_usb_core_rx_bitstuff_i_data) & usb_usb_core_rx_bitstuff_i_valid);
	triendpointinterface_rxpipeline_rxbitstuffremover_state <= triendpointinterface_rxpipeline_rxbitstuffremover_next_state;
	if (usb_usb_core_rx_bitstuff_reset) begin
		usb_usb_core_rx_bitstuff_o_data <= 1'd0;
		usb_usb_core_rx_bitstuff_o_error <= 1'd0;
		usb_usb_core_rx_bitstuff_o_stall <= 1'd1;
		triendpointinterface_rxpipeline_rxbitstuffremover_state <= 3'd0;
	end
	usb_usb_core_rx_shifter_o_put <= ((usb_usb_core_rx_shifter_shift_reg[7] & (~usb_usb_core_rx_shifter_shift_reg[8])) & usb_usb_core_rx_shifter_i_valid);
	if (usb_usb_core_rx_shifter_i_valid) begin
		if (usb_usb_core_rx_shifter_shift_reg[8]) begin
			usb_usb_core_rx_shifter_shift_reg <= {slice_proxy[7:0], usb_usb_core_rx_shifter_i_data};
		end else begin
			usb_usb_core_rx_shifter_shift_reg <= {usb_usb_core_rx_shifter_shift_reg[7:0], usb_usb_core_rx_shifter_i_data};
		end
	end
	if (usb_usb_core_rx_shifter_reset) begin
		usb_usb_core_rx_shifter_o_put <= 1'd0;
		usb_usb_core_rx_shifter_shift_reg <= 9'd1;
	end
	usb_usb_core_rx_payloadFifo_graycounter0_q_binary <= usb_usb_core_rx_payloadFifo_graycounter0_q_next_binary;
	usb_usb_core_rx_payloadFifo_graycounter0_q <= usb_usb_core_rx_payloadFifo_graycounter0_q_next;
	usb_usb_core_rx_flagsFifo_graycounter0_q_binary <= usb_usb_core_rx_flagsFifo_graycounter0_q_next_binary;
	usb_usb_core_rx_flagsFifo_graycounter0_q <= usb_usb_core_rx_flagsFifo_graycounter0_q_next;
	if (usb_48_rst) begin
		usb_usb_core_tx_nrzi_o_usbp <= 1'd0;
		usb_usb_core_tx_nrzi_o_usbn <= 1'd0;
		usb_usb_core_tx_nrzi_o_oe <= 1'd0;
		usb_usb_core_rx_line_state_phase <= 2'd0;
		usb_usb_core_rx_line_state_valid <= 1'd0;
		usb_usb_core_rx_line_state_dj1 <= 1'd0;
		usb_usb_core_rx_line_state_dk1 <= 1'd0;
		usb_usb_core_rx_line_state_se01 <= 1'd0;
		usb_usb_core_rx_line_state_se11 <= 1'd0;
		usb_usb_core_rx_reset_counter <= 7'd0;
		usb_usb_core_rx_nrzi_o_valid <= 1'd0;
		usb_usb_core_rx_nrzi_o_data <= 1'd0;
		usb_usb_core_rx_nrzi_o_se0 <= 1'd0;
		usb_usb_core_rx_nrzi_last_data <= 1'd0;
		usb_usb_core_rx_bitstuff_o_data <= 1'd0;
		usb_usb_core_rx_bitstuff_o_error <= 1'd0;
		usb_usb_core_rx_bitstuff_o_stall <= 1'd1;
		usb_usb_core_rx_last_reset <= 1'd0;
		usb_usb_core_rx_shifter_o_put <= 1'd0;
		usb_usb_core_rx_shifter_shift_reg <= 9'd1;
		usb_usb_core_rx_payloadFifo_graycounter0_q <= 2'd0;
		usb_usb_core_rx_payloadFifo_graycounter0_q_binary <= 2'd0;
		usb_usb_core_rx_flagsFifo_graycounter0_q <= 2'd0;
		usb_usb_core_rx_flagsFifo_graycounter0_q_binary <= 2'd0;
		triendpointinterface_txnrziencoder_state <= 3'd0;
		triendpointinterface_rxpipeline_state <= 3'd0;
		triendpointinterface_rxpipeline_rxpacketdetect_state <= 3'd0;
		triendpointinterface_rxpipeline_rxbitstuffremover_state <= 3'd0;
	end
	multiregimpl0_regs0 <= usb_iobuf_usb_p_t_i0;
	multiregimpl0_regs1 <= multiregimpl0_regs0;
	multiregimpl1_regs0 <= usb_iobuf_usb_n_t_i0;
	multiregimpl1_regs1 <= multiregimpl1_regs0;
	multiregimpl2_regs0 <= usb_usb_core_tx_fit_dat;
	multiregimpl2_regs1 <= multiregimpl2_regs0;
	multiregimpl2_regs2 <= multiregimpl2_regs1;
	multiregimpl3_regs0 <= usb_usb_core_tx_fit_oe;
	multiregimpl3_regs1 <= multiregimpl3_regs0;
	multiregimpl3_regs2 <= multiregimpl3_regs1;
	multiregimpl6_regs0 <= usb_usb_core_rx_payloadFifo_graycounter1_q;
	multiregimpl6_regs1 <= multiregimpl6_regs0;
	multiregimpl8_regs0 <= usb_usb_core_rx_flagsFifo_graycounter1_q;
	multiregimpl8_regs1 <= multiregimpl8_regs0;
end

assign usb_d_p = usb_iobuf_usb_p_t_oe ? usb_iobuf_usb_p_t_o : 1'bz;
assign usb_iobuf_usb_p_t_i0 = usb_d_p;

assign usb_d_n = usb_iobuf_usb_n_t_oe ? usb_iobuf_usb_n_t_o : 1'bz;
assign usb_iobuf_usb_n_t_i0 = usb_d_n;

reg [7:0] storage[0:1];
reg [0:0] memadr;
reg [0:0] memadr_1;
always @(posedge usb_48_clk) begin
	if (usb_usb_core_rx_payloadFifo_wrport_we)
		storage[usb_usb_core_rx_payloadFifo_wrport_adr] <= usb_usb_core_rx_payloadFifo_wrport_dat_w;
	memadr <= usb_usb_core_rx_payloadFifo_wrport_adr;
end

always @(posedge usb_12_clk) begin
	memadr_1 <= usb_usb_core_rx_payloadFifo_rdport_adr;
end

assign usb_usb_core_rx_payloadFifo_wrport_dat_r = storage[memadr];
assign usb_usb_core_rx_payloadFifo_rdport_dat_r = storage[memadr_1];

reg [1:0] storage_1[0:1];
reg [0:0] memadr_2;
reg [0:0] memadr_3;
always @(posedge usb_48_clk) begin
	if (usb_usb_core_rx_flagsFifo_wrport_we)
		storage_1[usb_usb_core_rx_flagsFifo_wrport_adr] <= usb_usb_core_rx_flagsFifo_wrport_dat_w;
	memadr_2 <= usb_usb_core_rx_flagsFifo_wrport_adr;
end

always @(posedge usb_12_clk) begin
	memadr_3 <= usb_usb_core_rx_flagsFifo_rdport_adr;
end

assign usb_usb_core_rx_flagsFifo_wrport_dat_r = storage_1[memadr_2];
assign usb_usb_core_rx_flagsFifo_rdport_dat_r = storage_1[memadr_3];

reg [7:0] storage_2[0:9];
reg [7:0] memdat;
reg [7:0] memdat_1;
always @(posedge usb_12_clk) begin
	if (usb_setuphandler_setuphandlerinner_wrport_we)
		storage_2[usb_setuphandler_setuphandlerinner_wrport_adr] <= usb_setuphandler_setuphandlerinner_wrport_dat_w;
	memdat <= storage_2[usb_setuphandler_setuphandlerinner_wrport_adr];
end

always @(posedge usb_12_clk) begin
	if (usb_setuphandler_setuphandlerinner_rdport_re)
		memdat_1 <= storage_2[usb_setuphandler_setuphandlerinner_rdport_adr];
end

assign usb_setuphandler_setuphandlerinner_wrport_dat_r = memdat;
assign usb_setuphandler_setuphandlerinner_rdport_dat_r = memdat_1;

reg [7:0] storage_3[0:63];
reg [7:0] memdat_2;
reg [7:0] memdat_3;
always @(posedge usb_12_clk) begin
	if (usb_inhandler_syncfifobuffered_wrport_we)
		storage_3[usb_inhandler_syncfifobuffered_wrport_adr] <= usb_inhandler_syncfifobuffered_wrport_dat_w;
	memdat_2 <= storage_3[usb_inhandler_syncfifobuffered_wrport_adr];
end

always @(posedge usb_12_clk) begin
	if (usb_inhandler_syncfifobuffered_rdport_re)
		memdat_3 <= storage_3[usb_inhandler_syncfifobuffered_rdport_adr];
end

assign usb_inhandler_syncfifobuffered_wrport_dat_r = memdat_2;
assign usb_inhandler_syncfifobuffered_rdport_dat_r = memdat_3;

reg [7:0] storage_4[0:65];
reg [7:0] memdat_4;
reg [7:0] memdat_5;
always @(posedge usb_12_clk) begin
	if (usb_outhandler_syncfifobuffered_wrport_we)
		storage_4[usb_outhandler_syncfifobuffered_wrport_adr] <= usb_outhandler_syncfifobuffered_wrport_dat_w;
	memdat_4 <= storage_4[usb_outhandler_syncfifobuffered_wrport_adr];
end

always @(posedge usb_12_clk) begin
	if (usb_outhandler_syncfifobuffered_rdport_re)
		memdat_5 <= storage_4[usb_outhandler_syncfifobuffered_rdport_adr];
end

assign usb_outhandler_syncfifobuffered_wrport_dat_r = memdat_4;
assign usb_outhandler_syncfifobuffered_rdport_dat_r = memdat_5;

endmodule
